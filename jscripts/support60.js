From: <Saved by Blink>
Snapshot-Content-Location: https://web.archive.org/web/20250128124929/https://www.domyvitalii.cz/jscripts/support60.js
Subject: Wayback Machine
Date: Fri, 5 Sep 2025 01:06:37 +0200
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----"


------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/html
Content-ID: <frame-39650B913E9A66E7EEBEB128D56055B8@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://web.archive.org/web/20250128124929/https://www.domyvitalii.cz/jscripts/support60.js

<!DOCTYPE html><html style=3D"--wm-toolbar-height: 67px;"><head><meta http-=
equiv=3D"Content-Type" content=3D"text/html; charset=3Dwindows-1252">
<title>Wayback Machine</title>



<link rel=3D"stylesheet" type=3D"text/css" href=3D"https://web-static.archi=
ve.org/_static/css/banner-styles.css?v=3Dp7PEIJWi">
<link rel=3D"stylesheet" type=3D"text/css" href=3D"https://web-static.archi=
ve.org/_static/css/iconochive.css?v=3D3PDvdIFv">

</head>
<body style=3D"height:100vh;overflow:hidden;margin:0;display:flex;flex-flow=
:column nowrap;align-items:stretch;">
<div style=3D"flex:0 0;">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<div id=3D"wm-ipp-base" lang=3D"en" style=3D"display: block; direction: ltr=
; height: 67px;" toolbar-mode=3D"auto"><template shadowmode=3D"closed"><div=
 id=3D"wm-ipp" style=3D"position:fixed;left:0;top:0;right:0;">
<div id=3D"donato" style=3D"position:relative;width:100%;height:0;">
  <div id=3D"donato-base">
    <iframe id=3D"donato-if" src=3D"cid:frame-1EB52F8A2AEB0BE039E4D9C34019F=
67B@mhtml.blink" scrolling=3D"no" frameborder=3D"0" style=3D"width:100%; he=
ight:100%">
    </iframe>
  </div>
</div><div id=3D"wm-ipp-inside">
  <div id=3D"wm-toolbar" style=3D"position:relative;display:flex;flex-flow:=
row nowrap;justify-content:space-between;">
    <div id=3D"wm-logo" style=3D"/*width:110px;*/padding-top:12px;">
      <a href=3D"https://web.archive.org/web/" title=3D"Wayback Machine hom=
e page"><img src=3D"https://web-static.archive.org/_static/images/toolbar/w=
ayback-toolbar-logo-200.png" alt=3D"Wayback Machine" style=3D"width:100px" =
border=3D"0" width=3D"100" height=3D"36"></a>
    </div>
    <div class=3D"c" style=3D"display:flex;flex-flow:column nowrap;justify-=
content:space-between;flex:1;">
      <form class=3D"u" style=3D"display:flex;flex-direction:row;flex-wrap:=
nowrap;" target=3D"_top" method=3D"get" action=3D"https://web.archive.org/w=
eb/submit" name=3D"wmtb" id=3D"wmtb"><input type=3D"text" name=3D"url" id=
=3D"wmtbURL" value=3D"https://www.domyvitalii.cz/jscripts/support60.js" sty=
le=3D"flex:1;" autocomplete=3D"off"><input type=3D"submit" value=3D"Go">
      </form>
      <div style=3D"display:flex;flex-flow:row nowrap;align-items:flex-end;=
">
                <div class=3D"s" id=3D"wm-nav-captures" style=3D"flex:1;"><=
a class=3D"t" href=3D"https://web.archive.org/web/*/https://www.domyvitalii=
.cz/jscripts/support60.js" title=3D"See a list of every capture for this UR=
L">1 capture</a><div class=3D"r" title=3D"Timespan for captures of this URL=
">28 Jan 2025</div></div>
        <div class=3D"k">
          <a href=3D"https://web.archive.org/web/20250128124929/https://www=
.domyvitalii.cz/jscripts/support60.js" id=3D"wm-graph-anchor">
            <div id=3D"wm-ipp-sparkline" title=3D"Explore captures for this=
 URL" style=3D"position: relative">
              <canvas id=3D"wm-sparkline-canvas" width=3D"750" height=3D"27=
" border=3D"0"></canvas>
            <div class=3D"yt" style=3D"display: none; width: 25px; height: =
27px;"></div><div class=3D"mt" style=3D"display: none; width: 2px; height: =
27px;"></div></div>
          </a>
        </div>
      </div>
    </div>
    <div class=3D"n">
      <table>
        <tbody>
          <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
          <tr class=3D"m">
            <td class=3D"b" nowrap=3D"nowrap">Dec</td>
            <td class=3D"c" id=3D"displayMonthEl" title=3D"You are here: 12=
:49:29 Jan 28, 2025">JAN</td>
            <td class=3D"f" nowrap=3D"nowrap">Feb</td>
          </tr>
          <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
          <tr class=3D"d">
            <td class=3D"b" nowrap=3D"nowrap"><img src=3D"https://web-stati=
c.archive.org/_static/images/toolbar/wm_tb_prv_off.png" alt=3D"Previous cap=
ture" width=3D"14" height=3D"16" border=3D"0"></td>
            <td class=3D"c" id=3D"displayDayEl" style=3D"width:34px;font-si=
ze:22px;white-space:nowrap;" title=3D"You are here: 12:49:29 Jan 28, 2025">=
28</td>
            <td class=3D"f" nowrap=3D"nowrap"><img src=3D"https://web-stati=
c.archive.org/_static/images/toolbar/wm_tb_nxt_off.png" alt=3D"Next capture=
" width=3D"14" height=3D"16" border=3D"0"></td>
          </tr>
          <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
          <tr class=3D"y">
            <td class=3D"b" nowrap=3D"nowrap">2024</td>
            <td class=3D"c" id=3D"displayYearEl" title=3D"You are here: 12:=
49:29 Jan 28, 2025">2025</td>
            <td class=3D"f" nowrap=3D"nowrap">2026</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class=3D"r" style=3D"display:flex;flex-flow:column nowrap;align-it=
ems:flex-end;justify-content:space-between;">
      <div id=3D"wm-btns" style=3D"text-align:right;height:23px;">
                <span class=3D"xxs">
          <div id=3D"wm-save-snapshot-success">success</div>
          <div id=3D"wm-save-snapshot-fail">fail</div>
          <a id=3D"wm-save-snapshot-open" href=3D"https://web.archive.org/w=
eb/20250128124929/https://www.domyvitalii.cz/jscripts/support60.js#" title=
=3D"Share via My Web Archive" style=3D"display: inline-block;">
            <span class=3D"iconochive-web"></span>
          </a>
          <a href=3D"https://archive.org/account/login.php" title=3D"Sign I=
n" id=3D"wm-sign-in" style=3D"display: none;">
            <span class=3D"iconochive-person"></span>
          </a>
          <span id=3D"wm-save-snapshot-in-progress" class=3D"iconochive-web=
"></span>
        </span>
                <a class=3D"xxs" href=3D"https://help.archive.org/help/cate=
gory/the-wayback-machine/" title=3D"Get some help using the Wayback Machine=
" style=3D"top:-6px;"><span class=3D"iconochive-question" style=3D"color:rg=
b(87,186,244);font-size:160%;"></span></a>
        <a id=3D"wm-tb-close" href=3D"https://web.archive.org/web/202501281=
24929/https://www.domyvitalii.cz/jscripts/support60.js#close" style=3D"top:=
-2px;" title=3D"Close the toolbar"><span class=3D"iconochive-remove-circle"=
 style=3D"color:#888888;font-size:240%;"></span></a>
      </div>
      <div id=3D"wm-share" class=3D"xxs">
        <a href=3D"https://web.archive.org/web/20250128124929/http://web.ar=
chive.org/screenshot/https://www.domyvitalii.cz/jscripts/support60.js" id=
=3D"wm-screenshot" title=3D"screenshot" style=3D"visibility: hidden;">
          <span class=3D"wm-icon-screen-shot"></span>
        </a>
        <a href=3D"https://web.archive.org/web/20250128124929/https://www.d=
omyvitalii.cz/jscripts/support60.js#" id=3D"wm-video" title=3D"video">
          <span class=3D"iconochive-movies"></span>
        </a>
        <a id=3D"wm-share-facebook" href=3D"https://web.archive.org/web/202=
50128124929/https://www.domyvitalii.cz/jscripts/support60.js#" data-url=3D"=
https://web.archive.org/web/20250128124929/https://www.domyvitalii.cz/jscri=
pts/support60.js" title=3D"Share on Facebook" style=3D"margin-right:5px;" t=
arget=3D"_blank"><span class=3D"iconochive-facebook" style=3D"color:#3b5998=
;font-size:160%;"></span></a>
        <a id=3D"wm-share-twitter" href=3D"https://web.archive.org/web/2025=
0128124929/https://www.domyvitalii.cz/jscripts/support60.js#" data-url=3D"h=
ttps://web.archive.org/web/20250128124929/https://www.domyvitalii.cz/jscrip=
ts/support60.js" title=3D"Share on Twitter" style=3D"margin-right:5px;" tar=
get=3D"_blank"><span class=3D"iconochive-twitter" style=3D"color:#1dcaff;fo=
nt-size:160%;"></span></a>
      </div>
      <div style=3D"padding-right:2px;text-align:right;white-space:nowrap;"=
>
        <a id=3D"wm-expand" class=3D"wm-btn wm-closed" href=3D"https://web.=
archive.org/web/20250128124929/https://www.domyvitalii.cz/jscripts/support6=
0.js#expand"><span id=3D"wm-expand-icon" class=3D"iconochive-down-solid"></=
span> <span class=3D"xxs" style=3D"font-size:80%;">About this capture</span=
></a>
      </div>
    </div>
  </div>
    <div id=3D"wm-capinfo" style=3D"border-top:1px solid #777;display:none;=
 overflow: hidden">
        <div id=3D"wm-capinfo-notice" source=3D"api"></div>
                <div id=3D"wm-capinfo-collected-by">
    <div style=3D"background-color:#666;color:#fff;font-weight:bold;text-al=
ign:center;padding:2px 0;">COLLECTED BY</div>
    <div style=3D"padding:3px;position:relative" id=3D"wm-collected-by-cont=
ent">
      <div style=3D"display:inline-block;vertical-align:top;width:49%;">
			<span class=3D"c-logo" style=3D"background-image:url(https://archive.org=
/services/img/certificate-transparency)"></span>
		<div>Collection: <a style=3D"color:#33f;" href=3D"https://archive.org/det=
ails/certificate-transparency" target=3D"_new"><span class=3D"wm-title">Cer=
tificate Transparency</span></a></div>
	      </div>
    </div>
    </div>
    <div id=3D"wm-capinfo-timestamps">
    <div style=3D"background-color:#666;color:#fff;font-weight:bold;text-al=
ign:center;padding:2px 0;" title=3D"Timestamps for the elements of this pag=
e">TIMESTAMPS</div>
    <div>
      <div id=3D"wm-capresources" style=3D"margin:0 5px 5px 5px;max-height:=
250px;overflow-y:scroll !important"></div>
      <div id=3D"wm-capresources-loading" style=3D"text-align:left;margin:0=
 20px 5px 5px;display:none"><img src=3D"https://web-static.archive.org/_sta=
tic/images/loading.gif" alt=3D"loading"></div>
    </div>
    </div>
  </div></div></div><link rel=3D"stylesheet" type=3D"text/css" href=3D"http=
s://web-static.archive.org/_static/css/banner-styles.css?v=3Dp7PEIJWi"><lin=
k rel=3D"stylesheet" type=3D"text/css" href=3D"https://web-static.archive.o=
rg/_static/css/iconochive.css?v=3D3PDvdIFv"><div class=3D"wb-autocomplete-s=
uggestions "></div></template>
</div><div id=3D"wm-ipp-print">The Wayback Machine - https://web.archive.or=
g/web/20250128124929/https://www.domyvitalii.cz/jscripts/support60.js</div>

<!-- END WAYBACK TOOLBAR INSERT -->
 </div>
<iframe id=3D"playback" src=3D"cid:frame-CDFFE001AE02BEC8D80684571DA565C3@m=
html.blink" frameborder=3D"0" style=3D"flex:1 0">
</iframe>


<div class=3D"awin-plugin-container bootstrap-iso d-none ui-draggable"><div=
 class=3D"awin-dragger ui-draggable-handle" style=3D"background-image: url(=
&quot;chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/dragger.p=
ng&quot;);"></div><button class=3D"awin-button" style=3D"background-image: =
url(&quot;chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/awin-=
logo.png&quot;);"></button><div class=3D"awin-product-finder-preview"><div =
class=3D"awin-product-finder-preview-header" style=3D"background-image: url=
(&quot;chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/awin-pro=
duct-finder-preview-header-logo.svg&quot;);"><div class=3D"awin-product-fin=
der-preview-header-closer" style=3D"background-image: url(&quot;chrome-exte=
nsion://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/close-icon.svg&quot;);"></=
div></div><div class=3D"awin-product-finder-preview-body" style=3D"backgrou=
nd-image: url(&quot;chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img=
/app/awin-product-finder-preview-logo.svg&quot;);"><div class=3D"awin-produ=
ct-finder-preview-body-title">Product Finder Available</div><span class=3D"=
awin-product-finder-preview-body-link"><label>Search Now</label><img src=3D=
"chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/awin-product-f=
inder-preview-body-arrow-right-black.png"></span></div></div><iframe class=
=3D"awin-plugin-iframe" src=3D"cid:frame-E9E41B86CE45013204F674D861A1D3D6@m=
html.blink" width=3D"100%" height=3D"100%"></iframe></div></body></html>
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: chrome-extension://mlnpcceaeigcohdpaddmkllbgnkgeoed/img/app/awin-product-finder-preview-body-arrow-right-black.png

iVBORw0KGgoAAAANSUhEUgAAAAYAAAAKCAYAAACXDi8zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA
AXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABvSURBVHgBbY1BDsAQEEUNPYijEBtHtuMmnWPY
oPPbalLxExb/Zd6nEMKpJK01X0ph9UZLFBFZY0x2ztkPSOEF8AoJX4zRiiqPMaw8hpbm6Qr1BLVW
1Xufw48KXvixg717d1emlFjvSlgO+CS/ErkAYLE/m1H7MOYAAAAASUVORK5CYII=

------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/gif
Content-Transfer-Encoding: base64
Content-Location: https://web-static.archive.org/_static/images/loading.gif

R0lGODlhFAAUAOMIAAAAABoaGjMzM0xMTGZmZoCAgJmZmbKysv//////////////////////////
/////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQBCgAIACwAAAAAFAAUAAAEUxDJSau9CADMteZTEEje
hhzHJYqkiaLWOlZvGs8WDO6UIPAGw8TnAwWDEuKPcxQml0YnjzcYYAqFS7VqwWItWyuCQJB4s2Ax
mWxGg9bl6YQtl0cAACH5BAEKAA8ALAAAAAAUABQAAART8MlJq70vBMy15pMgSN72AMAliqSJotY6
Vm8azxYM7tQw8IfDxOcDBYMS4o9zFCaXRiePRyBgDIZLtWrBYi1b66NQkHizYDGZbEaD1uXphC2X
RwAAIfkEAQoADwAsAAAAABQAFAAABFPwyUmrvU8IzLXm0zBI3vYEwSWKpImi1jpWbxrPFgzuFEHw
AMDE5wMFgxLij3MUJpdGJ49XKGAOh0u1asFiLVvrw2CQeLNgMZlsRoPW5emELZdHAAAh+QQBCgAP
ACwAAAAAFAAUAAAEU/DJSau9bwzMteYTQUje9gjCJYqkiaLWOlZvGs8WDO5UUfCBwMTnAwWDEuKP
cxQml0Ynj2cwYACAS7VqwWItW+vjcJB4s2AxmWxGg9bl6YQtl0cAACH5BAEKAA8ALAAAAAAUABQA
AART8MlJq72PEMy15lNRSN72DMMliqSJotY6Vm8azxYM7pRh8ALBxOcDBYMS4o9zFCaXRiePdzhg
AoFLtWrBYi1b6wMAkHizYDGZbEaD1uXphC2XRwAAIfkEAQoADwAsAAAAABQAFAAABFPwyUmrva8U
zLXmk2FI3vYQxCWKpImi1jpWbxrPFgzu1HHwg8HE5wMFgxLij3MUJpdGJ48HAGAEgku1asFiLVvr
IxCQeLNgMZlsRoPW5emELZdHAAAh+QQBCgAPACwAAAAAFAAUAAAEU/DJSau9zxjMtebTcUje9hTF
JYqkiaLWOlZvGs8WDO4UAPAEwsTnAwWDEuKPcxQml0YnjxcIYAaDS7VqwWItW+tDIJB4s2AxmWxG
g9bl6YQtl0cAACH5BAEKAA8ALAAAAAAUABQAAART8MlJq73vHMy15hMASN72GMYliqSJotY6Vm8a
zxYM7lQQ8IXCxOcDBYMS4o9zFCaXRiePJxBgCIRLtWrBYi1b62MwkHizYDGZbEaD1uXphC2XRwAA
Ow==

------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: https://web-static.archive.org/_static/images/toolbar/wm_tb_nxt_off.png

iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ
bWFnZVJlYWR5ccllPAAAAMhJREFUeNqU0s8KAUEcwPHBJjm5KHkCVy/BRZKnUMpBuXKmHGz+pDbl
CVwdOCoH5U8pD+DiwM1BSb5TO7WHjfn96tPW1reZndnI1Jt7SqkR9kowUZSwwwBpSfjxnw2cUEfc
JgxOBkNsUZSEZvJYYoGcJDRT8Q+tj5Qk1JNAE2fUELMNzWQxwRFlSWgmqXfhCII7unDxsgnfmKGN
m3n5L1yhhYPtdVxQRSEsClvxgZ7/9zx/bcUJrKq/o4OrzUnpcI0xNpI7+QowAGDEIqP9eOV2AAAA
AElFTkSuQmCC

------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: https://web-static.archive.org/_static/images/toolbar/wm_tb_prv_off.png

iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJ
bWFnZVJlYWR5ccllPAAAAMVJREFUeNqU078KQVEcwHH/kkwWJU9ABik2M4skryApdhlYSSYjSVkt
XoA3MBg9gMXAZlDC99TvDNTl/H71WW59b797Ttc/W6x8ysmhE1AEcUyxRyXkEITRRB8Jefb8F5Yx
kvU+xitMSVDzeuN3GMMAbUR+rWLDoHyHiZIuJ2XCKobIaO4kICtFtZdpwjXS6OKiCc3cMZF153i4
hnbOaKGArSa0c0AJdRw1oZkXNsijh6traOeGMbJY2k7zd5zQQBG7twADACeQHTcDpaCSAAAAAElF
TkSuQmCC

------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png

iVBORw0KGgoAAAANSUhEUgAAAJYAAAA2CAYAAAAlHWAMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAACWgAAAloBkz9NrAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABNASURB
VHic7Z15lBxltcB/96ueziQkYJAsTrqruychEYcEyIT1yHtRiAurQggIT3EFBT0goomA+ADZlMc7
ChyIwsOHrAm74vMAShCRLUPIpkSS6e7qCWQhiWRCkpnu+u77o5d093TPniFg/86ZpW7d79atrtv1
VX3frVvSGA7PUJE7BZ7PwA89z9sCMHHixLGaTl+pMNuBf1/teSsBouHwHYlU6msU0RiJPGJVlwh8
HliFahuwOZ5KXQPQNGbMyO319XMROR+RW1W104gc3JpMfj5vY8qUKaM6d+6ci+p5wO3APgprEp73
M0DzejHXPRHVm9WYJxLJ5Hl5mao6iVTq0YJPodD+6ji/QHUCqg+IyH7AhlbPu7ZgKxL5mkKzqNYB
n0TkTqw9Jp5KfYI+MDESOcqqPgJ8P+55d1XSicVi49Taa0V1lsJvBCZYkUeTyeQjlfRDodC+QZHb
EdmgqmlEjhwxatRRK1eu7Cyx67qzgBsRuS2eTN6SOx73qerDcc9bWG43EolMF9W7DDxtgsHLV69e
vTW/znXd0Y7qVRgzK55Mfgzwc/bOVNWNcc97qmyfDsL3fwV0CjyhcIAVeSSZTD5iWlOpxUAHqi/l
gwpgzZo1GxQeUljlw3/n5SKyV7mzovqThOddCWwS1WfjqdTF1pg/5Nev3LhxmxF5FAjGk8lLE553
BdZeXWxj1apV7WLtY0B93PN+EPG88wUuioXDHy/Wi3vebxFZKqqfnei6zTmfgiISLNZrbWt7A3gV
WBpPpa5u9bzvolrywRjV13LB+Tjgx5PJnxiRi8v3r0d8fwOwVeHsairxeHy9qD4DvJXwvEtwnMuN
6gNTpkwZVUk/aMzl1pidrZ73zXgq9R2Fu9vb27t89nHPe0rBU9VAXqbwEUT2rmQ3mUy+KqoZq/pi
cVABeJ63ZXtn51xUxza6buHLpaqf2XfMmEUV9mmpiqxWeLLV866Ne97ZQBLAACCSURG/vKGACvwv
MDoaDp9c8RMD1nheS6UdKF7OiBTOOtFotN6qOhVMKZAB+EdDQxCoMyLbu/gl8q6qzrPw86ybVbDW
5mwSDYUOt46zoie/K8l6wjfmLFE9U+CwiQ0N4W5UC/vn+/5eQLqjoyNdRfEzovr7/HLU8272PO+f
lXQFbF/8FRFfKhxvgPXr17+L6kNW5EyAyQ0N+wlsamlpqeinqBa2HQuHj84fd9MLP9SIXCAiN0ya
NGlYX3agAnVR152L79+ByAFVdIbFwuGbhwUCzwAXVjvQiVRqAeA3RiJf6GGbBza67jwRmR8IBII9
6PYLA9HWVOoV4FE/EOjJn0jMdX/lwK1qzPGJRGJnFb3RqBbOKIuyAalVdBE4Juq6c6OuOxdVt887
UYQ15h5RPTUUCg3vdJzZ1pgHutMX+HgsHL4UkWvyst4EFmuSyb8CL9rOzu8OxGEgnfC86xOp1JfU
mKVVdDpMMHglMFlUX+/GlqoxF6jqNarapYsoYkWr511n4D+Ajn57XoVoNHqEQmOj614nIiNF5Kwe
miSx9lfA1HQ6vbyaksJGRMb31g+FPyY87/qE512PiNfbdhUdTCafBd4JOs5xwKGJROKlHrb9l3gq
dbWBC/KybGCpVu9OcqStnadwAarjBuJ0Dj/g++1U6cbWrFmzAZFrVOS/ujOSSCReE/gD0ON10ZpU
aoXduXNA3+RKGGtP7/T9U1o9b15rMnkqqqNjodC07trE29peBn4/zHEuq6ok8iQwh+66+n6iWZvd
2bXA/ar6PUSSdHOmLGaN57U0hkL7A5jGCRMmA43Ax6tdSAK0tbWtRfUmRKK93YEKjGgMh78bc91z
fGPmd+ewU1f3C4WGxkjk1O4MBjKZy4BQNyqHRl333Fgkcj7GXNRPvyvS3NxcZ1X3Xrt27aacyAL3
izE9nbVwfH+ewpfzB6KcQEfHtUB9zHUfi4XDl0TD4TsmTJjw4YH6PDEcPhCYCBw7bty46md6x7kH
ONL4/v092RQ4Nua658QikYvVcU4HkHHjxu01bNiwIECj57Uvyl1cQvaDe+edd8zq1avzXYjT2Ng4
srW19Z1KG5gyZcoo3/c7i/RLXHVdt+ROpfguNK8TjUZHJRKJfwI0NDSM8H1f1q9f/26x0rhx4/Yq
ljWNGTOSsWM7y2/FQ6HQcGNMfX65o6Ojs9xWfj+3bNkyotp+dYMJhULD2tradhR8aWoKsmFDcOXG
jdvKlZuamoKZTGbYqlWr2qHHz4uCzrZt+4TWrl23qOjYFBONRscbY3bk/Q+Hww0jRoxoz2+nxIcx
Y0a2Dx9eB12PdwW7H8ofi2oUxw+AMWZHN9eNNWrUqFGjRo0aNWrU2NMY9DGSDwILpk3/pIh8M78s
yJbZSxef25u2k8LhiRmYJFXm6lR1a0Z1RVtb29rB8ndPJNCzytCzcOqMk0HLpl+k01ddccaKljW7
3wMTQ/W0/JKqvgV0G1iTGxr2SwcC9/owq7tvq4hQJ+LHIpGfx5PJi+nl4GNfaIxETlHV/QDS1j7x
XgRxYOG05g0UBZjj20/4jvkNRYOOaviiWD0f5IiCDPn+nGWL7wB4ZubMwNubth0P2ozwYYR1au3T
c5YveaFfXoneAZQNBiqOwMJpzc8pztlzlr0c75ft3UQ6ELgZmJVbzADtwEigLifbDnQCHwIcVC9q
jET+2ppMPjTYvqjqZcAhAEFjZgFDHlgGGF38kzESAPYpkasGQUYVy4zaeoCHp00bu3Fz+0uIPorw
I+A8lCtFzF8XTmteOL+5ua7ShgfA0eDfO8g2B0TTmDEjgc/ll8X3m+Ket69CIU1H4ZK4540W1cLo
v6rOGWJXS4jFYuNyMyEnDrbtAXeFPnU/E5heZfXs0RleAG5cOHXGyWI4Lr/Cij5urOyNMLMgU/vA
nGWv/qmCnb8Ah5P79gsc8eDBB+8/+7XX3hio/71lfnNz3X6dpiQlxrfb2+asXNnZPnz4WAcKmR/u
2rWtrdUMGfMPtND7TS5e0xiJfEFVTwI+AryDyEudmcytRVNGQHZEXEQivu+njTGt/R7p9v2bVOQ0
gInh8NQ1qdSKnpr0lgEF1jMzZwbe3tx+SrFMYYXAgUWCs4AbReyhqnJOkepaFcaiWpAZZCXQJbBU
+CFWbxSRQ/MyizMZeCO3TXlo2vQTVPkcRsJYFMFD9LHZS199QgbhOmb0To1Yx5YGct2IQ4DXgqri
Sz/ug0QK2SUx171XVU8vWa96QtBxvjZp/PjDVq9btzEajdbj+7eItV8CAg6Ate80uu71xZmxlWhq
agrW19drSV6V6s0CI1XkjQ+NHbsq6jj11trhsGv6KxKJHCAi49Lp9PIKAf5R8f2zEIkislWsXdyp
en9bW9uOAQXWxo0de4vDyCLRTt+a4wLGFtI2BBoGso2CHZGSZDaxMgqywf3g5q0PgZyEkA2h/DFW
+frCaTN+O79OTz0394EuOPLI4WzrOF1EjiLbrb8N8qz6Ox6eUzbXOFREIpHp7AqqdoWbgZMEmoBo
Jhj8FnAl1v5YRL6a03sd2BtoULimMRLxWpPJe8ptq8hBsXD4qu3t7Ydtb2/3G133xlbPmwcQT6X+
DPwZIO55RF33hw5cATBi2LAnY647GtVDUSXoOO2xUOjYXGYG0XD4dLH2bkSyMaSKZm9MLpo0fvwn
e5WP1QcsdZmKmYmDjeTC5+3N7ReCnFRdT0/ct5O5kL0elG2di0XkTuAbwGzgm6D34dS/cM/UqaOH
wvdyHGsLN0Wo3pXwvEuwtpAKJCJHAuSeKQBYN2LUqINMJnMEubOxZvPNuqL6U0SOIHs9XacwNxaL
HQQQC4c/FQuHr4qFw1c1NTWVJ0F+Cji0aHmUiszNuywit5Dt8RTVW1BdlFt3oF9Xd/lgB1ZVtCg1
eVDtQnnG5jagNEtBsh+6T90VCB+rZEdg+jBTd+Xu8LEnbP5bD4jI27m/u7Iwsg97QP5OXWTDypUr
O9e8+WaKXd18tZ5hg8LvyT0Ykd2gnZGzcywilyFyWSaTKc8OfjeXEfpykW8HAESj0ansumt/MZ5K
fbvT2tnsUjxhyAJrdyFQnmU5X4XrymQTAFBK8/aFkqdYVOWMwfZvD+A7Cc87Hrg7LxBre0wxV5HH
48nkpThO8XVxNl4ymX0KerAFYO3atcXpNePf94GFls8eSAfZ8aISYe73viVN1ZlbprffMzNn7pGD
xv1FIHvAVfuUrmxU8zli3eZjVdvs+z+wauyRDF1g2cGfuqix51I7Y9XYLdQCq8ZuYcgCazBGv2u8
f6idsWrsFgZ4a711G1q/a4be6JCMutfY8xlQYOXm1koGGe875JCKI8DZkfdab/ivQq0rrLFbGJRR
5genzjhO4QsYHYdPfc8tapSgugGRFgALb/WlqYHDANKqO3rSHUoGHFgLpk7/soreCQxpT2fhXQAx
+gNrGZGXO45Z4qse3SsjTnqbyQRmFYtmLlrkL5w2o3c+ZGyXR9j7QyKVuh/osUZCJfpTz2soGHBg
ichVg+FILyieON2Q1o7nAGYvffXucsUFBzX3KrDSmUxmzvIlT3dp34u2Kiw9fUVL6wdx1nowGNA1
1t2HH743pZVerAi/HpBHFTAq3yaflaq8lTH+4WctX15eUGT3IYyQgHy9SPKyL/7namNz1RnQGSu4
zQQoLfj4blr8KwLqfLmrttX+PsaoFKXsCh8J+OZHQKHA7jMzZwY2bd76WRWZjCWA5ehBfmJyH5Ti
TIipjg1MAxKDtYGo654tcCmwX070vs6yeH86L/LVBw869MbZS19ZuaCpaeTGze1PCXJESVry7mW4
oHf9trm54cSWli41UvtKYyi0v8IdQKW6rFWZCYGE634PwKh6ranUfQP1pa8IzIq57uZy+ftluKFr
t6d+I4Bxhl8ucESX9buffTrTfHQwDKkxnyAfVCL/QPXfEPlGT+0S0WhA4DqB63qjv5uoY9djgQXe
J2csexpibkOZlJeoGpP9q8f39yxVFwgEFkydXsiQFBF72rKW2yuorlXhDFGeKxbqrodRB0rhxkRU
H21NpZ6LhcPQnyd/hp4VwE0lEhF/yAJLRXRAWe9KtVv78gcgbhNlgwqX92TS8YPDrGTmF4k6yb68
oAQBqxldh7P7D7TtY2nt9xoFL+F5vyyXD6grzNR3lrcPBKkbMxCbA0bZqEKtVOF7zIDOWB2bRm2r
27vdsitAh1trX+6uTY0PLCbmurcWFgZi6SuJRTs1Ww67R0S1tIiqchSq3ZatrtF7tJsitUOEAOfk
fwz97dNN9pUZxvgXAsWlCpaTraxStlVZW7rMp4HeTb1k9UvnII39V0zRyd4dq46fCQHf9wtPHanq
oEwvDRYGpeR5fCPyLbKPbu+SKZ+ntIAFarPtZr/22hvbto5qUsMJih6j/s4Zjm+PUtUZqjpDrH4a
wCIv0u8LU/OYQskrUnyf/tTJKtm+tbb8hQLv/YWzyLDsH+nyehaBJ3L/jk267vMBkaeL2v15aBzs
HQHQx0EKRcW0aER7l0y+WCba5qSdQvGOryQW7WTXTgN0eZ3JnGWLVy2Y2vxFEeYCYdAXFZMRtDcl
dMoK3csfz1jR8vfsv2WDiiKjEJUqky2rgIMLS8Y+X7Z+CIq6VUBkR74CjVGdE3PdFxXKP3M6fP/S
oON8jOyZ/rCiVb8LBIO39XWzChmBNEBg82btGD68766rjqggtgEnHbjUD/ozgSm9tJVRkfNOef3l
TT2rljJnecu9QKG21YPTmm/v4wiEKvK7QKf5Sl4g2SIaY4tULuzmVUbXg1YdnRaRG/vmzuBgoSV/
savZp7YfgK7DK7lqL/8WiUQOEWunGGPSPvwtmUz+vT/bTXjeJcAl+eWo27s3wjgimwqndpEDQqHQ
hDqR5iKVDYFTXn95013TpjUP1+D5oMcg5ZX0sijsFPi7gVtPXbr41Uo63bFwWvMNwPcK9oQfVwsA
VXOqUz746OiOjoyz+swVL60vU/8dRS8H6o7Tli2+f8FBM+qM6o81+9qPPElRvXr2spb/6Y2dwSaZ
TC6JRSLfR/V8IITI3yzMM6o351TeKtcHlgy5oznWpFIrYq77AnAkMK7OmLYSBZGHAwBfWrbsXeCn
uZ/dg5ApC6RDtLwcpGZz5ucsf+XZXput43rSnKwQLRJvBCqOp81Zuvg3Cnc/3Nw8XnbasR1BNq5a
smTdf5ZcX5k/oX4hl986bMfvWFeS3w9YG8zWy0qntxIMFgYJF+Vs5V4g1QbgiGTf9OX7Hsb8Mru7
WrihiSeTNwA3lLk7kT2UtLWnBYz5pcBn2DW6sFNV781Ye/HQjbyjS6Ro7kV0V2nFgo5jVvbV7qkt
LW89cvDBh2Ss8y0RJqvyihj/KfWdQkE4NZS8xFFAaWl5iyrZmrn6ppVqnHZ5FS7A6nXrNlKh+G3c
824ql7W2tS2vpDuYKPzawJMAYm0iJ35Kc8mR1piKtWENPA9cn7PRAuA4zpaM788DEChMNucK5h4/
YcKEDweDwZDj+5ntmUz8zTff3J7THRrmNzfX7ZuWZ0GPrKyh/zd72avH13KcPhgMWXbDuS0t6fo6
PRbkCmAlsB1lK7AElbnqd9QS5z5A/D9b0dJ4y32ztwAAAABJRU5ErkJggg==

------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv

@charset "utf-8";

@font-face { font-family: Iconochive-Regular; src: url("../fonts/Iconochive=
-Regular.woff") format("woff"), url("../fonts/Iconochive-Regular.ttf") form=
at("truetype"); font-weight: normal; font-style: normal; }

[class^=3D"iconochive-"], [class*=3D" iconochive-"] { speak: none; font-sty=
le: normal; font-weight: normal; font-variant: normal; text-transform: none=
; line-height: 1; -webkit-font-smoothing: antialiased; font-family: Iconoch=
ive-Regular !important; }

.iconochive-Uplevel::before { content: "=E2=86=B5"; }

.iconochive-exit::before { content: "=F0=9F=9A=A3"; }

.iconochive-beta::before { content: "=CE=B2"; }

.iconochive-logo::before { content: "=F0=9F=8F=9B"; }

.iconochive-audio::before { content: "=F0=9F=95=A8"; }

.iconochive-movies::before { content: "=F0=9F=8E=9E"; }

.iconochive-software::before { content: "=F0=9F=92=BE"; }

.iconochive-texts::before { content: "=F0=9F=95=AE"; }

.iconochive-etree::before { content: "=F0=9F=8E=A4"; }

.iconochive-image::before { content: "=F0=9F=96=BC"; }

.iconochive-web::before { content: "=F0=9F=97=94"; }

.iconochive-collection::before { content: "=E2=88=91"; }

.iconochive-folder::before { content: "=F0=9F=93=82"; }

.iconochive-data::before { content: "=F0=9F=97=83"; }

.iconochive-tv::before { content: "=F0=9F=93=BA"; }

.iconochive-article::before { content: "=F0=9F=97=8F"; }

.iconochive-question::before { content: "=E2=8D=B0"; }

.iconochive-question-dark::before { content: "?"; }

.iconochive-info::before { content: "i"; }

.iconochive-info-small::before { content: "=E2=93=98"; }

.iconochive-comment::before { content: "=F0=9F=97=A9"; }

.iconochive-comments::before { content: "=F0=9F=97=AA"; }

.iconochive-person::before { content: "=F0=9F=91=A4"; }

.iconochive-people::before { content: "=F0=9F=91=A5"; }

.iconochive-eye::before { content: "=F0=9F=91=81"; }

.iconochive-rss::before { content: "=E2=88=9E"; }

.iconochive-time::before { content: "=F0=9F=95=91"; }

.iconochive-quote::before { content: "=E2=9D=9D"; }

.iconochive-disc::before { content: "=F0=9F=92=BF"; }

.iconochive-tv-commercial::before { content: "=F0=9F=92=B0"; }

.iconochive-search::before { content: "=F0=9F=94=8D"; }

.iconochive-search-star::before { content: "=E2=9C=BD"; }

.iconochive-tiles::before { content: "=E2=8A=9E"; }

.iconochive-list::before { content: "=E2=87=B6"; }

.iconochive-list-bulleted::before { content: "=E2=8C=97"; }

.iconochive-latest::before { content: "=E2=88=88"; }

.iconochive-left::before { content: "=CB=82"; }

.iconochive-right::before { content: "=CB=83"; }

.iconochive-left-solid::before { content: "=E2=97=82"; }

.iconochive-right-solid::before { content: "=E2=96=B8"; }

.iconochive-up-solid::before { content: "=E2=96=B4"; }

.iconochive-down-solid::before { content: "=E2=96=BE"; }

.iconochive-dot::before { content: "=E2=8F=A4"; }

.iconochive-dots::before { content: "=E2=96=A6"; }

.iconochive-columns::before { content: "=E2=96=AF"; }

.iconochive-sort::before { content: "=E2=87=95"; }

.iconochive-atoz::before { content: "=F0=9F=94=A4"; }

.iconochive-ztoa::before { content: "=F0=9F=94=A5"; }

.iconochive-upload::before { content: "=F0=9F=93=A4"; }

.iconochive-download::before { content: "=F0=9F=93=A5"; }

.iconochive-favorite::before { content: "=E2=98=85"; }

.iconochive-heart::before { content: "=E2=99=A5"; }

.iconochive-play::before { content: "=E2=96=B6"; }

.iconochive-play-framed::before { content: "=F0=9F=8E=AC"; }

.iconochive-fullscreen::before { content: "=E2=9B=B6"; }

.iconochive-mute::before { content: "=F0=9F=94=87"; }

.iconochive-unmute::before { content: "=F0=9F=94=8A"; }

.iconochive-share::before { content: "=F0=9F=8E=81"; }

.iconochive-edit::before { content: "=E2=9C=8E"; }

.iconochive-reedit::before { content: "=E2=9C=90"; }

.iconochive-gear::before { content: "=E2=9A=99"; }

.iconochive-remove-circle::before { content: "=E2=9D=8E"; }

.iconochive-plus-circle::before { content: "=F0=9F=97=96"; }

.iconochive-minus-circle::before { content: "=F0=9F=97=95"; }

.iconochive-x::before { content: "=F0=9F=97=99"; }

.iconochive-fork::before { content: "=E2=8B=94"; }

.iconochive-trash::before { content: "=F0=9F=97=91"; }

.iconochive-warning::before { content: "=E2=9A=A0"; }

.iconochive-flash::before { content: "=F0=9F=97=B2"; }

.iconochive-world::before { content: "=F0=9F=97=BA"; }

.iconochive-lock::before { content: "=F0=9F=94=92"; }

.iconochive-unlock::before { content: "=F0=9F=94=93"; }

.iconochive-twitter::before { content: "=F0=9F=90=A6"; }

.iconochive-facebook::before { content: "f"; }

.iconochive-googleplus::before { content: "g"; }

.iconochive-reddit::before { content: "=F0=9F=91=BD"; }

.iconochive-tumblr::before { content: "T"; }

.iconochive-pinterest::before { content: "=F0=9D=93=9F"; }

.iconochive-popcorn::before { content: "=F0=9F=92=A5"; }

.iconochive-email::before { content: "=F0=9F=93=A7"; }

.iconochive-embed::before { content: "=F0=9F=94=97"; }

.iconochive-gamepad::before { content: "=F0=9F=95=B9"; }

.iconochive-Zoom_In::before { content: "+"; }

.iconochive-Zoom_Out::before { content: "-"; }

.iconochive-RSS::before { content: "=F0=9F=93=A8"; }

.iconochive-Light_Bulb::before { content: "=F0=9F=92=A1"; }

.iconochive-Add::before { content: "=E2=8A=95"; }

.iconochive-Tab_Activity::before { content: "=E2=8C=98"; }

.iconochive-Forward::before { content: "=E2=8F=A9"; }

.iconochive-Backward::before { content: "=E2=8F=AA"; }

.iconochive-No_Audio::before { content: "=F0=9F=94=88"; }

.iconochive-Pause::before { content: "=E2=8F=B8"; }

.iconochive-No_Favorite::before { content: "=E2=98=86"; }

.iconochive-Unike::before { content: "=E2=99=A1"; }

.iconochive-Song::before { content: "=E2=99=AB"; }

.iconochive-No_Flag::before { content: "=E2=9A=90"; }

.iconochive-Flag::before { content: "=E2=9A=91"; }

.iconochive-Done::before { content: "=E2=9C=93"; }

.iconochive-Check::before { content: "=E2=9C=94"; }

.iconochive-Refresh::before { content: "=E2=9F=B3"; }

.iconochive-Headphones::before { content: "=F0=9F=8E=A7"; }

.iconochive-Chart::before { content: "=F0=9F=93=88"; }

.iconochive-Bookmark::before { content: "=F0=9F=93=91"; }

.iconochive-Documents::before { content: "=F0=9F=93=9A"; }

.iconochive-Newspaper::before { content: "=F0=9F=93=B0"; }

.iconochive-Podcast::before { content: "=F0=9F=93=B6"; }

.iconochive-Radio::before { content: "=F0=9F=93=BB"; }

.iconochive-Cassette::before { content: "=F0=9F=93=BC"; }

.iconochive-Shuffle::before { content: "=F0=9F=94=80"; }

.iconochive-Loop::before { content: "=F0=9F=94=81"; }

.iconochive-Low_Audio::before { content: "=F0=9F=94=89"; }

.iconochive-First::before { content: "=F0=9F=8E=96"; }

.iconochive-Invisible::before { content: "=F0=9F=95=B6"; }

.iconochive-Computer::before { content: "=F0=9F=96=B3"; }
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: image/svg+xml
Content-Transfer-Encoding: quoted-printable
Content-Location: https://web-static.archive.org/_static/images/web-screenshot.svg

<svg height=3D"20" viewBox=3D"0 0 24 20" width=3D"24" xmlns=3D"http://www.w=
3.org/2000/svg"><g fill=3D"none" fill-rule=3D"evenodd"><path d=3D"m0 0h24v2=
0h-24z" fill=3D"#fff"/><path d=3D"m18.5721525 15.8731314h-2.213751v-2.16100=
43h2.213751zm-3.2647703 0h-2.2149026v-2.1610043h2.2149026zm3.1265692-11.569=
96429v5.82540599 1.5252793h-16.86629045v-1.5252793-5.82540599zm-6.4790971 1=
1.56996429h-10.35448576v-2.1160889h10.35448576zm-11.9548543-13.0731314v6.74=
421283 7.72244617h20v-7.72244617-6.74421283z" fill=3D"#333" fill-rule=3D"no=
nzero" transform=3D"matrix(1 0 0 -1 0 18.067)"/><rect fill=3D"#333" height=
=3D"10" rx=3D"1" stroke=3D"#333" width=3D"14.906" x=3D"8" y=3D"9"/><circle =
cx=3D"15.453" cy=3D"14" fill=3D"#fff" r=3D"3.491"/><circle cx=3D"15.453" cy=
=3D"14" fill=3D"#333" r=3D"1.604"/></g></svg>
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://web-static.archive.org/_static/css/banner-styles.css?v=p7PEIJWi

@charset "utf-8";

:root { --wm-toolbar-height: 65px; }

#wm-ipp-base { height: 65px; padding: 0px; margin: 0px; border: none; backg=
round: none transparent; }

#wm-ipp { z-index: 2147483647; }

#wm-ipp, #wm-ipp * { font-family: "Lucida Grande", Helvetica, Arial, sans-s=
erif; font-size: 12px; line-height: 1.2; letter-spacing: 0px; width: auto; =
height: auto; max-width: none; max-height: none; min-height: 0px; outline: =
none; float: none; text-align: left; border: none; color: rgb(0, 0, 0); tex=
t-indent: 0px; position: initial; background: none; min-width: 0px !importa=
nt; }

#wm-ipp div, #wm-ipp canvas { display: block; }

#wm-ipp div, #wm-ipp tr, #wm-ipp td, #wm-ipp a, #wm-ipp form { padding: 0px=
; margin: 0px; border: none; border-radius: 0px; background-color: transpar=
ent; background-image: none; height: auto; }

#wm-ipp table { border: none; border-collapse: collapse; margin: 0px; paddi=
ng: 0px; width: auto; font-size: inherit; }

#wm-ipp form input { height: auto; display: inline; margin: 0px; color: rgb=
(0, 0, 0); background: none rgb(255, 255, 255); border: 1px solid rgb(102, =
102, 102); padding: 1px !important; }

#wm-ipp form input[type=3D"submit"] { padding: 0px 8px !important; margin: =
1px 0px 1px 5px !important; width: auto !important; border: 1px solid rgb(0=
, 0, 0) !important; background: rgb(255, 255, 255) !important; color: rgb(0=
, 0, 0) !important; }

#wm-ipp form input[type=3D"submit"]:hover { background: rgb(238, 238, 238) =
!important; cursor: pointer !important; }

#wm-ipp form input[type=3D"submit"]:active { transform: translateY(1px); }

#wm-ipp a { display: inline; }

#wm-ipp a:hover { text-decoration: underline; }

#wm-ipp a.wm-btn:hover { text-decoration: none; color: rgb(255, 255, 0) !im=
portant; }

#wm-ipp a.wm-btn:hover span { color: rgb(255, 255, 0) !important; }

#wm-ipp #wm-ipp-inside { margin: 0px 6px; border-right: 5px solid rgb(0, 0,=
 0); border-bottom: 5px solid rgb(0, 0, 0); border-left: 5px solid rgb(0, 0=
, 0); border-image: initial; border-top: none; background-color: rgba(255, =
255, 255, 0.9); box-shadow: rgb(51, 51, 51) 1px 1px 4px; border-radius: 0px=
 0px 8px 8px; }

#wm-ipp #wm-logo { padding: 0px 10px; vertical-align: middle; min-width: 10=
0px; flex: 0 0 100px; }

#wm-ipp .c { padding-left: 4px; }

#wm-ipp .c .u { margin-top: 4px !important; }

#wm-ipp .n { vertical-align: bottom; padding: 0px 0px 0px 5px !important; }

#wm-ipp .n a { text-decoration: none; color: rgb(51, 51, 255); font-weight:=
 bold; }

#wm-ipp .n .b { overflow: visible; white-space: nowrap; color: rgb(153, 153=
, 170); vertical-align: middle; padding: 0px 6px 0px 0px !important; text-a=
lign: right !important; }

#wm-ipp .n .y .b { padding: 0px 6px 2px 0px !important; }

#wm-ipp .n .c { background: rgb(0, 0, 0); color: rgb(255, 255, 0); font-wei=
ght: bold; text-align: center; padding: 0px !important; }

#wm-ipp.hi .n td.c { color: rgb(236, 0, 140); }

#wm-ipp .n td.f { overflow: visible; white-space: nowrap; color: rgb(153, 1=
53, 170); vertical-align: middle; padding: 0px 0px 0px 6px !important; text=
-align: left !important; }

#wm-ipp .n tr.m td { text-transform: uppercase; white-space: nowrap; paddin=
g: 2px 0px; }

#wm-ipp .c .s { vertical-align: bottom; padding: 0px 5px 0px 0px !important=
; }

#wm-ipp #wm-nav-captures { white-space: nowrap; }

#wm-ipp .c .s a.t { color: rgb(51, 51, 255); font-weight: bold; line-height=
: 1.8; }

#wm-ipp .c .s div.r { color: rgb(102, 102, 102); font-size: 9px; white-spac=
e: nowrap; }

#wm-ipp .c .k { padding-bottom: 1px; }

#wm-ipp .c .s { padding: 0px 5px 2px 0px !important; }

#wm-ipp td#displayMonthEl { padding: 2px 0px !important; }

#wm-ipp td#displayYearEl { padding: 0px 0px 2px !important; }

div#wm-ipp-sparkline { position: relative; white-space: nowrap; background-=
color: rgb(255, 255, 255); cursor: pointer; line-height: 0.9; }

#sparklineImgId, #wm-sparkline-canvas { position: relative; z-index: 9012; =
max-width: none; }

#wm-ipp-sparkline div.yt { position: absolute; top: 0px; z-index: 9010 !imp=
ortant; background-color: rgb(255, 255, 0) !important; }

#wm-ipp-sparkline div.mt { position: absolute; top: 0px; z-index: 9013 !imp=
ortant; background-color: rgb(236, 0, 140) !important; }

#wm-ipp .r { margin-left: 4px; }

#wm-ipp .r a { color: rgb(51, 51, 255); border: none; position: relative; b=
ackground-color: transparent; text-decoration: none; background-repeat: no-=
repeat !important; background-position: 100% 100% !important; }

#wm-ipp #wm-capinfo { border-radius: 0px 0px 4px 4px; }

#wm-ipp #wm-capinfo .c-logo { display: block; float: left; margin-right: 3p=
x; width: 90px; min-height: 90px; max-height: 290px; border-radius: 45px; o=
verflow: hidden; background-position: 50% center; background-size: auto 90p=
x; box-shadow: rgb(208, 208, 208) 0px 0px 2px 2px inset; }

#wm-ipp #wm-capinfo .c-logo span { display: inline-block; }

#wm-ipp #wm-capinfo .c-logo img { height: 90px; position: relative; left: -=
50%; }

#wm-ipp #wm-capinfo .wm-title { font-size: 130%; }

#wm-ipp #wm-capinfo a.wm-selector { display: inline-block; color: rgb(170, =
170, 170); padding: 2px 8px; text-decoration: none !important; }

#wm-ipp #wm-capinfo a.wm-selector.selected { background-color: rgb(102, 102=
, 102); }

#wm-ipp #wm-capinfo a.wm-selector:hover { color: rgb(255, 255, 255); }

#wm-ipp #wm-capinfo.notice-only #wm-capinfo-collected-by, #wm-ipp #wm-capin=
fo.notice-only #wm-capinfo-timestamps { display: none; }

#wm-ipp #wm-capinfo #wm-capinfo-notice .wm-capinfo-content { background-col=
or: rgb(255, 255, 0); padding: 5px; font-size: 14px; text-align: center; }

#wm-ipp #wm-capinfo #wm-capinfo-notice .wm-capinfo-content * { font-size: 1=
4px; text-align: center; }

#wm-ipp #wm-expand { right: 1px; bottom: -1px; color: rgb(255, 255, 255); b=
ackground-color: rgb(102, 102, 102) !important; padding: 0px 5px 0px 3px !i=
mportant; border-radius: 3px 3px 0px 0px !important; }

#wm-ipp #wm-expand span { color: rgb(255, 255, 255); }

#wm-ipp #wm-expand #wm-expand-icon { display: inline-block; transition: tra=
nsform 0.5s; transform-origin: 50% 45%; }

#wm-ipp #wm-expand.wm-open #wm-expand-icon { transform: rotate(180deg); }

#wm-ipp #wmtb { text-align: right; }

#wm-ipp #wmtb #wmtbURL { width: calc(100% - 45px); }

#wm-ipp #wm-graph-anchor { border-right: 1px solid rgb(204, 204, 204); }

html.wb-highlight { box-shadow: rgb(165, 14, 58) 0px 0px 0px 3px inset !imp=
ortant; }

.wb-highlight { outline: rgb(165, 14, 58) solid 3px !important; }

#wm-ipp-print { display: none !important; }

@media print {
  #wm-ipp-base { display: none !important; }
  #wm-ipp-print { white-space: nowrap; overflow: hidden; text-overflow: ell=
ipsis; display: block !important; }
}

@media (max-width: 414px) {
  #wm-ipp .xxs { display: none !important; }
}

@media (min-width: 1055px) {
  #wm-ipp #wm-graph-anchor { display: block !important; }
}

@media (max-width: 1054px) {
  #wm-ipp #wm-graph-anchor { display: none !important; }
}

@media (max-width: 1163px) {
  #wm-logo { display: none !important; }
}

#wm-btns { white-space: nowrap; margin-top: -2px; }

#wm-btns #wm-save-snapshot-open { margin-right: 7px; top: -6px; }

#wm-btns #wm-sign-in { box-sizing: content-box; display: none; margin-right=
: 7px; top: -8px; border: 2px solid rgb(0, 0, 0); border-radius: 14px; padd=
ing-right: 2px; padding-bottom: 2px; width: 11px; height: 11px; }

#wm-btns #wm-sign-in > .iconochive-person { font-size: 12.5px; }

#wm-save-snapshot-open > .iconochive-web { color: rgb(0, 0, 0); font-size: =
160%; }

#wm-ipp #wm-share { display: flex; align-items: flex-end; justify-content: =
space-between; }

#wm-share > #wm-screenshot { display: inline-block; margin-right: 3px; visi=
bility: hidden; }

#wm-screenshot > .iconochive-image { color: rgb(0, 0, 0); font-size: 160%; =
}

#wm-share > #wm-video { display: inline-block; margin-right: 3px; visibilit=
y: hidden; }

#wm-video > .iconochive-movies { color: rgb(0, 0, 0); display: inline-block=
; font-size: 150%; margin-bottom: 2px; }

#wm-btns #wm-save-snapshot-in-progress { display: none; font-size: 160%; op=
acity: 0.5; position: relative; margin-right: 7px; top: -5px; }

#wm-btns #wm-save-snapshot-success { display: none; color: green; position:=
 relative; top: -7px; }

#wm-btns #wm-save-snapshot-fail { display: none; color: red; position: rela=
tive; top: -7px; }

.wm-icon-screen-shot { display: inline-block; background: url("../images/we=
b-screenshot.svg") 0% 0% / contain no-repeat !important; width: 22px !impor=
tant; height: 19px !important; }

#donato { height: 0px; margin: 0px; padding: 0px; border-bottom: 1px solid =
rgb(153, 153, 153) !important; }

body.wm-modal { height: auto !important; overflow: hidden !important; }

#donato #donato-base { width: 100%; height: 100%; margin: 0px; padding: 0px=
; position: absolute; z-index: 2147483639; }

body.wm-modal #donato #donato-base { position: fixed; inset: 0px; z-index: =
2147483640; }

.wb-autocomplete-suggestions { font-family: "Lucida Grande", Helvetica, Ari=
al, sans-serif; font-size: 12px; text-align: left; cursor: default; border-=
width: 0px 1px 1px; border-right-style: solid; border-bottom-style: solid; =
border-left-style: solid; border-right-color: rgb(204, 204, 204); border-bo=
ttom-color: rgb(204, 204, 204); border-left-color: rgb(204, 204, 204); bord=
er-image: initial; border-top-style: initial; border-top-color: initial; ba=
ckground: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.1) -1px 1px 3px; =
position: absolute; display: none; z-index: 2147483647; max-height: 254px; =
overflow: hidden auto; box-sizing: border-box; }

.wb-autocomplete-suggestion { position: relative; padding: 0px 0.6em; line-=
height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsi=
s; font-size: 1.02em; color: rgb(51, 51, 51); }

.wb-autocomplete-suggestion b { font-weight: bold; }

.wb-autocomplete-suggestion.selected { background: rgb(240, 240, 240); }
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/html
Content-ID: <frame-1EB52F8A2AEB0BE039E4D9C34019F67B@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://archive.org/includes/donate.php?as_page=1&platform=wb&referer=https%3A//web.archive.org/web/20250128124929/https%3A//www.domyvitalii.cz/jscripts/support60.js

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8"></head><body></body></html>
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/html
Content-ID: <frame-CDFFE001AE02BEC8D80684571DA565C3@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://web.archive.org/web/20250128124929if_/https://www.domyvitalii.cz/jscripts/support60.js

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3Dwindows-1252"><meta name=3D"color-scheme" content=3D"light dark"></head>=
<body><pre style=3D"word-wrap: break-word; white-space: pre-wrap;">var ____=
_WB$wombat$assign$function_____ =3D function(name) {return (self._wb_wombat=
 &amp;&amp; self._wb_wombat.local_init &amp;&amp; self._wb_wombat.local_ini=
t(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw =3D function(obj) { this.__WB_source =
=3D obj; return this; } }
{
  let window =3D _____WB$wombat$assign$function_____("window");
  let self =3D _____WB$wombat$assign$function_____("self");
  let document =3D _____WB$wombat$assign$function_____("document");
  let location =3D _____WB$wombat$assign$function_____("location");
  let top =3D _____WB$wombat$assign$function_____("top");
  let parent =3D _____WB$wombat$assign$function_____("parent");
  let frames =3D _____WB$wombat$assign$function_____("frames");
  let opener =3D _____WB$wombat$assign$function_____("opener");

var time_reload_stop_flag =3D false;
var detail_iframe_max_width =3D 2000;  // 1100;  // 900
var detail_iframe_width_add =3D 27*2 + 12;  /* (2*padding + scrollbar) */
var detail_iframe_max_width_coef =3D 0.9;

var ajax_xmlhttp =3D null;
var ajax_xmlhttp_cache =3D [];
var ajax_logs_counter =3D 0;

var isIE =3D (navigator.appName.indexOf("Microsoft") !=3D -1);
var faders =3D [];
var fade_full =3D 1.0;
var fade_delta_in =3D 0.2;
var fade_delta_out =3D 0.15;
var fade_delay_out =3D 1;
var disable_fade =3D false;
var z_index_counter =3D 100;
var stuff_period =3D 20;

var bgfaders =3D [];
var fgfaders =3D [];
var scfaders =3D [];
var mofaders =3D [];
var mof_actual_x =3D 0;
var mof_actual_y =3D 0;
var mof_actual_s =3D 1;

var ctx_hi =3D null;
var ctx_ht =3D null;
var head_images_data =3D new Array();
var actual_head_image =3D -1;
var head_image_scale =3D 0;
var last_head_image =3D -1;
var last_head_image_scale =3D 0;
var head_image_alpha =3D 0;
var last_head_image_alpha =3D 0;
var main_time_last =3D 0;
var hi_use_raf =3D false;
var raf_time_last =3D 0;
var last_head_text_fade_out_delay =3D 0;
var actual_head_text_fade_in_delay =3D 0;

//? var fms_initialized =3D false;
var fms_disable_next_hashchanged =3D false;
var FMS_filters =3D [];
var fms_last_opened_option =3D '';
var fms_last_nazev =3D '';
var fms_update_after_counter =3D 0;

var mouseHintShown =3D false;

var advUpload_filelistBoxes =3D null;
var advUpload_progressBoxCounter =3D 0;
var advUpload_uploadList =3D new Array();
var advUpload_justUploading =3D false;

var document_scroll_to_x =3D null;
var document_scroll_to_y =3D null;
var document_scroll_to_element_id =3D null;
var document_scroll_to_coef =3D 2.1;  // must be grater than 2 !!!

var rgba_supported =3D false;
var tmp =3D document.createElement('div');
tmp.style.cssText =3D "background-color: rgba(255,255,255,0.5)";
if(('' + tmp.style.backgroundColor).indexOf('rgba') =3D=3D 0){
	rgba_supported =3D true;
}

var calendar_act_type =3D null;
var calendar_act_pg =3D null;
var calendar_act_input_element =3D null;
var calendar_act_year =3D null;
var calendar_act_month =3D null;
var calendar_chosen_year =3D null;
var calendar_chosen_month =3D null;
var calendar_chosen_day =3D null;
var calendar_rows =3D 6;
var calendar_cols =3D 7;

var ka_calendar_act_type =3D null;
var ka_calendar_act_pg =3D null;
var ka_calendar_act_input_element =3D null;
var ka_calendar_act_year =3D null;
var ka_calendar_act_month =3D null;
var ka_calendar_chosen_year =3D null;
var ka_calendar_chosen_month =3D null;
var ka_calendar_chosen_day =3D null;
var ka_calendar_rows =3D 6;
var ka_calendar_cols =3D 7;

var subbox_active_id =3D false;


function reload_parent(inserted_id) {
	my_form =3D document.forms['form_edit'];
	if (my_form['parent_form'].value) {
		parent_form =3D window.opener.document.forms[my_form['parent_form'].value=
];
		parent_form['s'].value =3D my_form['parent_s'].value;
		if (parent_form['table']) parent_form['table'].value =3D parent_form['sel=
f_table'].value;
		if (parent_form['id']) parent_form['id'].value =3D parent_form['self_id']=
.value;
		if (my_form['parent_input'] &amp;&amp; my_form['parent_input'].value !=3D=
 "")
			parent_form[my_form['parent_input'].value].value =3D inserted_id;
		NoUpdate(parent_form);
		parent_form.submit();
	}
	else {
		if (my_form['parent_s'].value !=3D '') {  // novinka:
			window.opener.location.href =3D '?s=3D' + my_form['parent_s'].value + (m=
y_form['parent_ss'] &amp;&amp; my_form['parent_ss'].value ? '&amp;ss=3D' + =
my_form['parent_ss'].value : '');
		}
		else {  // puvodne:
			window.opener.location.reload(true);
		}
	}

	window.close();
}

function time_reload(time_to_close, atable, countdown) {
	if (frames['iframe_checker'].document.forms['form_checker'] &amp;&amp; fra=
mes['iframe_checker'].document.forms['form_checker']['not_logged_in'].value=
 =3D=3D '1')
		location.href =3D './';  // zrejme uprava aplikace - smazan autentifikacn=
i retezec z db - skok na Login
	if (time_reload_stop_flag) {
		document.getElementById('timereload_headtext').innerHTML =3D '&lt;font co=
lor=3D"red"&gt;Synchronizace je vypnuta.&lt;/font&gt;';
//		frames['iframe_checker'].location.href =3D 'index_checker.php?stop=3D1'=
;  // zastav checker
//		return false;  // konec odpocitavani, zadny reload
	}
	if (!countdown) {  // faze porovnavani verze vypsane tabulky a tabulky v d=
atabazi
		if (frames['iframe_checker'].document.forms['form_checker']) {  // je ifr=
ame nacten?
			if (frames['iframe_checker'].document.forms['form_checker']['table_versi=
on_db_'+atable].value =3D=3D document.forms['form_writedown']['table_versio=
n_'+atable].value) {  // tabulka se v db nezmenila
				setTimeout("time_reload("+time_to_close+", '"+atable+"', false);", 1000=
);  // dalsi kontrola za nejaky cas
				return false;
			}
			else {  // tabulka se v db zmenila!
				frames['iframe_checker'].location.href =3D 'index_checker.php?stop=3D1&=
amp;beep=3D1';  // zastav checker a zapipej
				document.body.style.backgroundColor =3D '#f0f0f0';
				if (!time_reload_stop_flag) {  // pokud je synchronizace off, stopne se=
 time_reload()ovani
					setTimeout("time_reload("+time_to_close+", '"+atable+"', true);", 100)=
;  // spust odpocet
				}
				return false;
			}
		}
		else {  // iframe 'checker' se zrejme zrovna reloaduje, pockame...
//			alert('iframe not loaded!');
			frames['iframe_checker'].document.forms['form_checker'];
			setTimeout("time_reload("+time_to_close+", '"+atable+"', false);", 1000)=
;  // retry za sekundu
			return false;
		}
	}
	else {  // faze odpocitavani casu do reloadu stranky
		document.getElementById('timereload_headtext').innerHTML =3D 'Str=C3=A1nk=
a se p=C5=99ena=C4=8Dte za '+time_to_close+' sekund.';
		if (time_to_close &gt; 0) {
			time_to_close--;
			setTimeout("time_reload("+time_to_close+", '"+atable+"', true);", 1000);=
  // dalsi krok odpoctu za sekundu
		}
		else {
			window.location.href =3D './?s=3Dwritedown&amp;table=3D&amp;'+(document.=
forms['form_writedown']['writedownall'].value =3D=3D '1' ? 'writedownall=3D=
1' : 'timereload=3D1');  // okamzity reload
		}
	}
}

function time_reload_stop() {
	document.getElementById('a_time_reload_stop').style.display =3D 'none';
	time_reload_stop_flag =3D true;
	return false;
}

//-----------------------------------

function ChangeFilterVisibility(that, id) {
	var e =3D document.getElementById(id);
	if (e.style.display =3D=3D 'none') {
		e.style.display =3D 'inline-block';
		that.innerHTML =3D '&lt;img src=3D"style/icon_find.png" /&gt; Schovat fil=
try...';
	}
	else {
		e.style.display =3D 'none';
		that.innerHTML =3D '&lt;img src=3D"style/icon_find.png" /&gt; Zobrazit fi=
ltry...';
	}
	return false;
}

function ChangePagesVisibility(that, id) {
	var e =3D document.getElementById(id);
	if (e.style.display =3D=3D 'none') {
		e.style.display =3D 'inline';
		that.style.display =3D 'none';
	}
	else {
		e.style.display =3D 'none';
		that.style.display =3D 'inline';
	}
	return false;
}

function ChangeVisibility(id) {
	var e =3D document.getElementById(id);
	if (e.style.display =3D=3D 'none') {
		e.style.display =3D 'block';
	}
	else {
		e.style.display =3D 'none';
	}
	return false;
}

function ChangeSemaphoreState(animg, aformname, aninputname) {
	var aninput =3D document.forms[aformname][aninputname];
	if (aninput.value =3D=3D '0') {
		aninput.value =3D '1';
	}
	else if (aninput.value =3D=3D '1') {
		aninput.value =3D '2';
	}
	else {
		aninput.value =3D '0';
	}
	animg.src =3D 'style/semaphore_' + aninput.value + '.gif';
}

function ChangeBooleanState(animg, aformname, aninputname) {
	var aninput =3D document.forms[aformname][aninputname];
	if (aninput.value =3D=3D '1') {
		aninput.value =3D '0';
	}
	else {
		aninput.value =3D '1';
	}
	animg.src =3D 'style/boolean_' + aninput.value + '.gif';
}

function PotvrdZmenu() {
	return confirm('Opravdu chcete zm=C4=9Bnit tuto polo=C5=BEku?');
}

function PotvrdSmazani() {
	return confirm('Opravdu chcete smazat tuto polo=C5=BEku?');
}

function PotvrdOdstraneniObrazku() {
	return confirm('Opravdu chcete obr=C3=A1zek odstranit?');
}

function PotvrdOdhlaseni() {
	return confirm('Opravdu se chcete odhl=C3=A1sit?');
}

function ChangeWritedownTRState(tr_id) {
	var tr =3D document.getElementById('writedown_tr_' + tr_id);
	changed =3D tr.className.indexOf('tr_state_abnormal');
	if (changed &gt;=3D 0)
		tr.className =3D tr.className.replace('tr_state_abnormal', 'tr_state_norm=
al');
	else
		tr.className =3D tr.className.replace('tr_state_normal', 'tr_state_abnorm=
al');
	return true;
}


// nulovani podstatnych inputu pri kazde akci [update, delete, ...] je nutn=
e kvuli IE pri pouzivani navigace ZPET, VPRED
// hodnota hidden inputu totiz po Zpet zustane nastavena, tzn. ze se napr. =
odesle update=3D=3Ddelete=3D=3D1
function NoUpdate(aform) {
	if (aform['action']) aform['action'].value =3D '';
}

// odeslani formularu po kliku na &lt;a href...&gt; nebo na odesilaci tlaci=
tka provadi tato funkce
function SubmitForm(anaction, aform, atable, anid, parents, valid_data, s2,=
 ss2) {
	document.forms[aform]['table'].value =3D atable;
	document.forms[aform]['id'].value =3D anid;
	document.forms[aform]['parents'].value =3D parents;
	NoUpdate(document.forms[aform]);
=09
	if (s2) {
		document.forms[aform]['s2'].value =3D s2;
	}
	if (ss2) {
		document.forms[aform]['ss2'].value =3D ss2;
	}

/*-	document.forms[aform]['s2'].value =3D (s2 ? s2 : '');
	document.forms[aform]['ss2'].value =3D (ss2 ? ss2 : ''); */

	if (anaction =3D=3D 'delete') {
		if (!PotvrdSmazani())
			return false;
		document.forms[aform]['s'].value =3D document.forms[aform]['self_s'].valu=
e;
		document.forms[aform]['ss'].value =3D document.forms[aform]['self_ss'].va=
lue;
		document.forms[aform]['action'].value =3D anaction;
	}
	else if (anaction =3D=3D 'update' || anaction =3D=3D 'direct_edit' || anac=
tion =3D=3D 'cancel') {
		document.forms[aform]['s'].value =3D document.forms[aform]['self_s'].valu=
e;
		document.forms[aform]['ss'].value =3D document.forms[aform]['self_ss'].va=
lue;
		document.forms[aform]['action'].value =3D anaction;
	}
	else if (anaction =3D=3D 'new_mail') {
		document.forms[aform]['s'].value =3D 'posta';
		document.forms[aform]['ss'].value =3D 'new_mail';
		document.forms[aform]['action'].value =3D anaction;
	}
	else if (anaction =3D=3D 'command') {
//+		document.forms[aform]['s'].value =3D 'writedown';   //+ !!!???!!!
		document.forms[aform]['s'].value =3D document.forms[aform]['self_s'].valu=
e;
		document.forms[aform]['ss'].value =3D document.forms[aform]['self_ss'].va=
lue;
		document.forms[aform]['action'].value =3D anaction;
	}
	else {
		document.forms[aform]['s'].value =3D anaction;
	}

	if (typeof(document.forms[aform]['valid_data']) !=3D "undefined") {
		if (valid_data) {
			document.forms[aform]['valid_data'].value =3D '1';
		}
		else {
			document.forms[aform]['valid_data'].value =3D '0';
		}
	}

	ShowDisablerTransfer();
	document.forms[aform].submit();  // odeslani formulare
	return false;
}

function SubmitCommand(aform, atable, anid, acommand, parents) {
	document.forms[aform]['command'].value =3D acommand;
	return SubmitForm('command', aform, atable, anid, parents, true);
}

function SubmitListing(aform, atable, listingtable, thefirst, parents) {
	if (thefirst &gt;=3D 0 &amp;&amp; document.forms[aform]['writedown_listing=
_first_' + listingtable]) {
		document.forms[aform]['writedown_listing_first_' + listingtable].value =
=3D thefirst;
	}
	return SubmitForm(document.forms[aform]['self_s'].value, aform, atable, do=
cument.forms[aform]['self_id'].value, parents, true);
}

function SubmitListingAll(aform, atable, listingtable, parents) {
	document.forms[aform]['writedown_listing_perpage_' + listingtable].value =
=3D '0';
	return SubmitForm(document.forms[aform]['self_s'].value, aform, atable, do=
cument.forms[aform]['self_id'].value, parents, true);
}

function SubmitSetSelect(aform, atable, listingtable, /*r source_el,*/ val,=
 destination_el_name, parents) {
//r	var val =3D source_el.value;
	var de =3D document.forms[aform][destination_el_name];
	for (var i =3D 0; i &lt; de.length; i++) {
		if (de[i].value =3D=3D val) {
			de[i].selected =3D true;
		}
		else {
			de[i].selected =3D false;
		}
	}
	return SubmitListing(aform, atable, listingtable, 0, '');
}

function SubmitOrdering(aform, atable, orderby_idx, direction_idx, parents)=
 {
	document.forms[aform]['razeni_' + atable + '_sloupec'].selectedIndex =3D o=
rderby_idx;
	document.forms[aform]['razeni_' + atable + '_smer'].selectedIndex =3D dire=
ction_idx;
	return SubmitForm(document.forms[aform]['self_s'].value, aform, document.f=
orms[aform]['self_table'].value, document.forms[aform]['self_id'].value, pa=
rents, true);
}

function SubmitDirectEdit(aform, atable, anid, acolumn, avalue, parents) {
	if (!PotvrdZmenu())
		return false;
	document.forms[aform]['direct_edit_column'].value =3D acolumn;
	document.forms[aform]['direct_edit_value'].value =3D avalue;
	return SubmitForm('direct_edit', aform, atable, anid, parents, true);
}

function PrintTableItem(table, id, rest_params) {
	okno =3D window.open('index_print.php?table=3D' + table + '&amp;id=3D' + i=
d + (rest_params !=3D '' ? '&amp;'+rest_params : ''), 'print', 'left=3D5,to=
p=3D5,scrollbars=3Dyes,width=3D830,height=3D590,resizable=3Dyes,menubar=3Dy=
es');
	okno.focus();
	return false;
}

function SubmitSetMail(aform, anid, predmet, id_prijemce, parents) {
	document.forms[aform]['action'].value =3D 'new_mail';
	if (predmet !=3D=3D false) {
		document.forms[aform]['edit_zpravy_predmet__preset'].value =3D predmet;
	}
	if (id_prijemce !=3D=3D false) {
		document.getElementById('secondaryedit_uzivatele_vyber_000').name =3D 'se=
condaryedit_uzivatele_vyber_'+id_prijemce;
		document.getElementById('secondaryedit_uzivatele_vyber_000').value =3D '1=
';
	}
	return SubmitForm(anid =3D=3D '0' ? 'new_mail' : 'posta', aform, 'zpravy',=
 anid, parents, true);
}

function SubmitShowWin(href) {
	var o =3D document.getElementById('detail_iframe');
	document.getElementById('body').onresize =3D function(){ BodyResized(); };
	var odoc =3D (o.contentDocument ? o.contentDocument : o.contentWindow.docu=
ment);
	odoc.getElementById("body").innerHTML =3D '&lt;p style=3D"text-align: cent=
er; padding: 20px 20px 30px 20px;"&gt;&lt;b&gt;Nahr=C3=A1v=C3=A1m data...&l=
t;/b&gt;&lt;/p&gt;';
	BodyResized();
	ResizeDisabler(true);
	o.src =3D href;
	return false;
}

function SubmitShowDetail(atable, anid, rest_params) {
	var o =3D document.getElementById('detail_iframe');
	o.style.width =3D 'auto';
	o.style.height =3D 'auto';
//	o.onload =3D function(){ DetailOnLoad(); };
	document.getElementById('body').onresize =3D function(){ BodyResized(); };
	var odoc =3D (o.contentDocument ? o.contentDocument : o.contentWindow.docu=
ment);
	odoc.getElementById("body").innerHTML =3D '&lt;p style=3D"text-align: cent=
er; padding: 20px 20px 30px 20px;"&gt;&lt;b&gt;Nahr=C3=A1v=C3=A1m data...&l=
t;/b&gt;&lt;/p&gt;';
	ElementAddClass(document.getElementById('body'), 'disable_scroll');
	BodyResized();
	ResizeDisabler(true);
//	o.style.visibility =3D 'visible';
	o.src =3D './?s=3Ddetail&amp;show_content_only=3D1&amp;table=3D'+atable+'&=
amp;id=3D'+anid+(rest_params !=3D=3D undefined ? '&amp;'+rest_params : '');
	return false;
}
function SubmitShowDetailZpravy(anid, tr_element) {
	tr_element.className =3D tr_element.className.replace('tr_zprava_nova', 't=
r_zprava_prectena');
	SubmitShowDetail('zpravy', anid);
}
function SubmitTreeMove(aform, atable, anid, direction, parents) {
	document.forms[aform]['tree_move_direction'].value =3D direction;
	return SubmitCommand(aform, atable, anid, 'strom_posun', parents);
}


function DetailOnLoad() {
	ResizeDisabler(true);
	ResizeDetailIframe(true);
}
function ParentDetailOnLoad() {
	if (window.parent)
		window.parent.DetailOnLoad();
}

function BodyResized() {
	ResizeDisabler(false);
	ResizeDetailIframe(false);
}

function ResizeDisabler(show) {
	var o =3D document.getElementById('disabler');
	if (!o) {
		return;
	}
//2	var o2 =3D document.getElementById('disabler_loading');
/*2	var winw =3D WinW();
	var winh =3D WinH();
	var docsize =3D GetScrollXY();
	var docleft =3D docsize[0];
	var doctop =3D docsize[1];

	o.style.left =3D Math.round(docleft) + 'px';
	o.style.width =3D Math.round(winw) + 'px';
	o.style.height =3D Math.round(Math.max(document.body.scrollHeight, winh)) =
+ 'px';
*/
/*-
	o.style.top =3D Math.round(doctop) + 'px';
	o.style.width =3D Math.round(Math.max(document.body.scrollWidth, winw)) + =
'px';
	o.style.height =3D Math.round(winh) + 'px';
*/
//2	o2.style.left =3D Math.round(docleft + (winw - 39) / 2) + 'px';
//2	o2.style.top =3D Math.round(doctop + (winh - 39) / 2) + 'px';
	if (show) {
//=C4=9B		o2.style.visibility =3D 'visible';
		o.style.visibility =3D 'visible';
	}
}
function ResizeDetailIframe(show) {
	var o =3D document.getElementById('detail_iframe');
	if (!o) {
		return;
	}
	var oclose =3D document.getElementById('detail_close');
	var winw =3D WinW();
	var winh =3D WinH();
	var docsize =3D GetScrollXY();
//2	var docleft =3D docsize[0];
//2	var doctop =3D docsize[1];
	var docleft =3D 0;
	var doctop =3D 0;
	var odoc =3D (o.contentDocument ? o.contentDocument : o.contentWindow.docu=
ment);
	var width =3D Math.min(detail_iframe_max_width, Math.round(winw * detail_i=
frame_max_width_coef));
	var html_tags =3D odoc.getElementsByClassName("div_form_detail");
	if (html_tags.length =3D=3D 1) {
		var temp_patt =3D new RegExp("^[0-9]+px$");
		if (temp_patt.test(html_tags[0].style.width)) {
			var width_preset =3D parseInt(html_tags[0].style.width.substr(0, html_ta=
gs[0].style.width.length - 2));
			if (width_preset &gt; 0) {
				width =3D width_preset + detail_iframe_width_add;
			}
		}
	}
	width =3D Math.min(width, Math.round(winw * detail_iframe_max_width_coef))=
;
=09
	var height =3D Math.max(Math.min(odoc.getElementById("body").scrollHeight,=
 winh * 0.9), 10);
	o.style.width =3D width + 'px';
	o.style.height =3D height + 'px';
	o.style.left =3D Math.max(0, Math.round(docleft + (winw - width) / 2)) + '=
px';

	var o_s_top =3D Math.round(doctop + (winh - height) / 2);
	o.style.top =3D o_s_top + 'px';
	oclose.style.left =3D Math.round(docleft + (winw + width) / 2 + /* 1 */ - =
65) + 'px';
	oclose.style.top =3D (o_s_top + 1) + 'px'; //Math.round(doctop + (winh + h=
eight) / 2 - 48) + 'px';
=09
	if (show) {
		o.style.visibility =3D 'visible';
		oclose.style.visibility =3D 'visible';
		o.focus();
	}
}
function HideDetail(not_all) {
	var o =3D document.getElementById('detail_iframe');
	o.style.visibility =3D 'hidden';
	document.getElementById('detail_close').style.visibility =3D 'hidden';
	if (!not_all) {
		document.getElementById('disabler').style.visibility =3D 'hidden';
//2		document.getElementById('disabler_loading').style.visibility =3D 'hidd=
en';
	}
	var odoc =3D (o.contentDocument ? o.contentDocument : o.contentWindow.docu=
ment);
	odoc.getElementById("body").innerHTML =3D '';
	ElementRemoveClass(document.getElementById('body'), 'disable_scroll');
	return false;
}

function DocW() {
	return Math.max(document.body.scrollWidth, document.body.offsetWidth, docu=
ment.documentElement.clientWidth, document.documentElement.scrollWidth, doc=
ument.documentElement.offsetWidth);
}
function DocH() {
	return Math.max(document.body.scrollHeight, document.body.offsetHeight, do=
cument.documentElement.clientHeight, document.documentElement.scrollHeight,=
 document.documentElement.offsetHeight);
}
function WinW() {
if (document.documentElement &amp;&amp; document.documentElement.clientWidt=
h)
	/* MSIE6 v std. re=C5=BEimu, popr. Opera a Mozilla */
	return document.documentElement.clientWidth;
else if (window.innerWidth)
	/* NN4 a kompatibiln=C3=AD prohl=C3=AD=C5=BEe=C4=8De */
	return window.innerWidth;
else if (document.body &amp;&amp; document.body.clientWidth)
	/* star=C5=A1=C3=AD MSIE + MSIE6 v quirk re=C5=BEimu */
	return document.body.clientWidth;
else
	return null;
}
function WinH() {
if (document.documentElement &amp;&amp; document.documentElement.clientHeig=
ht)
	/* MSIE6 v std. re=C5=BEimu, popr. Opera a Mozilla */
	return document.documentElement.clientHeight;
else if (window.innerHeight)
	/* NN4 a kompatibiln=C3=AD prohl=C3=AD=C5=BEe=C4=8De */
	return window.innerHeight;
else if (document.body &amp;&amp; document.body.clientHeight)
	/* star=C5=A1=C3=AD MSIE + MSIE6 v quirk re=C5=BEimu */
	return document.body.clientHeight;
else
	return null;
}
function GetScrollXY() {
  var scrOfX =3D 0, scrOfY =3D 0;
  if( typeof( window.pageYOffset ) =3D=3D 'number' ) {
    //Netscape compliant
    scrOfY =3D window.pageYOffset;
    scrOfX =3D window.pageXOffset;
  } else if( document.body &amp;&amp; ( document.body.scrollLeft || documen=
t.body.scrollTop ) ) {
    //DOM compliant
    scrOfY =3D document.body.scrollTop;
    scrOfX =3D document.body.scrollLeft;
  } else if( document.documentElement &amp;&amp; ( document.documentElement=
.scrollLeft || document.documentElement.scrollTop ) ) {
    //IE6 standards compliant mode
    scrOfY =3D document.documentElement.scrollTop;
    scrOfX =3D document.documentElement.scrollLeft;
  }
  return [ scrOfX, scrOfY ];
}


function FillInputNow(aform, aninput) {
//	now =3D new Date();
//	document.forms[aform][aninput].value =3D now.getDate() + '.' + (now.getM=
onth() + 1) + '.' + now.getFullYear() + ' ' + (unescape(now.getHours()).len=
gth &lt; 2 ? '0' : '') + now.getHours() + ':' + (unescape(now.getMinutes())=
.length &lt; 2 ? '0' : '') + now.getMinutes()/* + ':' + (unescape(now.getSe=
conds()).length &lt; 2 ? '0' : '') + now.getSeconds()*/;
	if (document.forms[aform][aninput + '__actual'].checked) {
		document.forms[aform][aninput + '__old_value'].value =3D document.forms[a=
form][aninput].value;
		document.forms[aform][aninput].style.display =3D 'none';
		document.forms[aform][aninput].value =3D '--actual--';
	}
	else {
		document.forms[aform][aninput].value =3D document.forms[aform][aninput + =
'__old_value'].value;
		document.forms[aform][aninput].style.display =3D 'inline';
	}
	return true;
}

function OpenCalendar(aform, aninput, table, column, cas) {
	if (document.forms[aform][aninput + '__actual'] &amp;&amp; document.forms[=
aform][aninput + '__actual'].checked =3D=3D true) {
		document.forms[aform][aninput + '__actual'].checked =3D false;
		FillInputNow(aform, aninput);
	}
	okno =3D window.open('index_kalendar.php?form=3D' + document.forms[aform].=
name + '&amp;input=3D' + aninput + '&amp;cas=3D' + cas + '&amp;datum=3D' + =
document.forms[aform][aninput].value, 'kalendar', 'left=3D400,top=3D100,scr=
ollbars=3Dyes,width=3D415,height=3D415,resizable=3Dyes');
	okno.focus();
	return false;
}

function OpenCalendar2(aform, aninput) {
	return ShowCalendar(aform, aninput);
	// okno =3D window.open('index_kalendar2.php?form=3D' + aform + '&amp;inpu=
t=3D' + aninput + '&amp;datum=3D' + document.forms[aform][aninput].value, '=
kalendar', 'left=3D400,top=3D100,scrollbars=3Dyes,width=3D415,height=3D415,=
resizable=3Dyes');
	// okno.focus();
	// return false;
}


function WriteInputCasDo(aform, aninput, datum, hod, min) {
	hod =3D parseInt(hod, 10);
	min =3D parseInt(min, 10);
	hod +=3D 1;  // o hodinu pozdeji...
	if (hod &gt;=3D 24) {
		hod =3D 23;
		min =3D 59;
	}
	window.opener.document.forms[aform][aninput].value =3D datum + ' ' + ((hod=
 &lt; 10 ? '0' : '') + hod) + ':' + ((min &lt; 10 ? '0' : '') + min);
}

/*xxx
function ShowSubMenu(id_parent) {
	return ShowOrHideElement('submenu_' + id_parent, 'show');
}
function HideSubMenu(id_parent) {
	return ShowOrHideElement('submenu_' + id_parent, 'hide');
}
*/


function ShowSubMenu(id_parent) {
	PushOrChangeFader('submenu_' + id_parent, fade_delta_in);
	return false;
}

function HideSubMenu(id_parent) {
	PushOrChangeFader('submenu_' + id_parent, -fade_delta_out);
	return false;
}

function PushOrChangeFader(eid, fade_delta, no_z_index, display_mode) {
	var e =3D document.getElementById(eid);
	if (!e) {
		return;
	}
	var idx =3D -1;
	for (var i =3D 0; i &lt; faders.length; i++) {
		if (faders[i][0] =3D=3D eid) {
			faders[i][2] =3D fade_delta;
			idx =3D i;
			break;
		}
	}
	if (idx &lt; 0) {
		if (!disable_fade) {
			e.className +=3D ' opacity_class';
		}
		faders.push([eid, (fade_delta &lt; 0 ? fade_full : 0), fade_delta, 0]);
	}
	if (fade_delta &gt; 0) {
		if (e.style.display =3D=3D 'none' || e.style.display =3D=3D '') {
			e.style.display =3D (display_mode ? display_mode : 'block');
			SetOpacity(e, 0);
		}
		if (!no_z_index) {
			e.style.zIndex =3D ++z_index_counter;
		}
	}
}

// faders[i][0] .. eid
// faders[i][1] .. fade_step
// faders[i][2] .. fade_delta
// faders[i][3] .. fade_delay_out

function ProcessFaders() {
	for (var i =3D 0; i &lt; faders.length; i++) {
		if (faders[i][2] =3D=3D 0) {
			continue;
		}
		var e =3D document.getElementById(faders[i][0]);
		if (!e) {
			continue;
		}
	=09
		var e_op =3D faders[i][1];
		var e_d =3D faders[i][2];
		if (e_d &lt; 0 &amp;&amp; e_op + e_d &lt;=3D 0) {
			SetOpacity(e, 0);
			e.style.display =3D 'none';
			faders[i][1] =3D 0;
			faders[i][2] =3D 0;
		}
		else if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D fade_full) {
			SetOpacity(e, fade_full);
			faders[i][1] =3D fade_full;
			faders[i][2] =3D 0;
			faders[i][3] =3D fade_delay_out;
		}
		else {
			if (e_d &lt; 0 &amp;&amp; faders[i][3] &gt; 0) {
				faders[i][3]--;
			}
			else {
				faders[i][1] =3D e_op + e_d;
				SetOpacity(e, faders[i][1]);
			}
		}
	}
}

function SetOpacity(e, opacity) {
	if (disable_fade) {
		return;
	}
	if (e.style.opacity !=3D null) {
		e.style.opacity =3D opacity;
	}
	else if (navigator.appName.indexOf("Microsoft") !=3D -1 &amp;&amp; parseIn=
t(navigator.appVersion) &gt;=3D 4) {
		e.style.filter =3D "alpha(opacity=3D" + Math.round(opacity * 100) + ")";
	}
}



///////////////// BG FADERS ////////////////////////////////////

function PushOrChangeBgFader(eid, fade_delta, color_1, color_2) {
=09
	var idx =3D -1;
	for (var i =3D 0; i &lt; bgfaders.length; i++) {
		if (bgfaders[i][0] =3D=3D eid) {
			bgfaders[i][2] =3D fade_delta;
			idx =3D i;
			break;
		}
	}

=09
	// prepare colors
=09
	if (typeof color_1 =3D=3D=3D 'undefined' &amp;&amp; idx &gt;=3D 0) {
		// ok, colors are set by previous run
	}
	else {
		var color_1_rgb;
		var color_2_rgb;
		var color_num =3D null;
	=09
		if ((color_1 instanceof Array) &amp;&amp; color_1.length &gt;=3D 3) {
			color_1_rgb =3D [color_1[0], color_1[1], color_1[2], color_1.length &gt;=
 3 ? color_1[3] : 1];
		}
		else {
			color_num =3D (color_1 ? parseInt(color_1) : 0) % menu_colors.length;
			color_1_rgb =3D menu_colors[color_num];
		}
	=09
		if (typeof color_2 =3D=3D=3D 'undefined') {
			color_2_rgb =3D menu_colors_2[color_num + 0];  // null + 0 =3D 0
		}
		else {
			if ((color_2 instanceof Array) &amp;&amp; color_2.length &gt;=3D 3) {
				color_2_rgb =3D [color_2[0], color_2[1], color_2[2], color_2.length &gt=
; 3 ? color_2[3] : 1];
			}
			else {
				color_2_rgb =3D menu_colors[color_2 ? parseInt(color_2) : 0];
			}
		}
	=09
		if (color_1_rgb.length =3D=3D 3) {
			color_1_rgb.push(1);
		}
		if (color_2_rgb.length =3D=3D 3) {
			color_2_rgb.push(1);
		}
	=09
		if (idx &lt; 0) {
			bgfaders.push([eid, 0, fade_delta, 0, color_1_rgb, color_2_rgb]);
		}
		else {
			bgfaders[idx][4] =3D color_1_rgb;  // update colors
			bgfaders[idx][5] =3D color_2_rgb;
		}
	}
=09
}

// bgfaders[i][0] .. eid
// bgfaders[i][1] .. fade_step
// bgfaders[i][2] .. fade_delta
// bgfaders[i][3] .. fade_delay_out
// bgfaders[i][4] .. color_1_rgb
// bgfaders[i][5] .. color_2_rgb

function ProcessBgFaders() {
	for (var i =3D 0; i &lt; bgfaders.length; i++) {
		if (bgfaders[i][2] =3D=3D 0) {
			continue;
		}
		var e =3D document.getElementById(bgfaders[i][0]);
		if (!e) {
			continue;
		}
	=09
		var e_op =3D bgfaders[i][1];
		var e_d =3D bgfaders[i][2];
		if (e_d &lt; 0 &amp;&amp; bgfaders[i][3] &gt; 0) {
			bgfaders[i][3]--;
		}
		else {
			if (e_d &lt; 0 &amp;&amp; e_op + e_d &lt;=3D 0) {
				bgfaders[i][1] =3D 0;
				bgfaders[i][2] =3D 0;
			}
			else if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D 1) {
				bgfaders[i][1] =3D 1;
				bgfaders[i][2] =3D 0;
				bgfaders[i][3] =3D fade_delay_out;
			}
			else {
				bgfaders[i][1] =3D e_op + e_d;
			}
			var temp_r =3D Math.round(bgfaders[i][5][0] + bgfaders[i][1] * (bgfaders=
[i][4][0] - bgfaders[i][5][0]));
			var temp_g =3D Math.round(bgfaders[i][5][1] + bgfaders[i][1] * (bgfaders=
[i][4][1] - bgfaders[i][5][1]));
			var temp_b =3D Math.round(bgfaders[i][5][2] + bgfaders[i][1] * (bgfaders=
[i][4][2] - bgfaders[i][5][2]));
			var temp_a =3D bgfaders[i][5][3] + bgfaders[i][1] * (bgfaders[i][4][3] -=
 bgfaders[i][5][3]);
			if (rgba_supported) {
				e.style.backgroundColor =3D 'rgba('+temp_r+','+temp_g+','+temp_b+','+te=
mp_a+')';
			}
			else {
				e.style.backgroundColor =3D 'rgb('+Math.max(temp_r, Math.round((1 - tem=
p_a) * 255))+','+Math.max(temp_g, Math.round((1 - temp_a) * 255))+','+Math.=
max(temp_b, Math.round((1 - temp_a) * 255))+')';
			}
		}
	}
}


/////////////////


///////////////// FG FADERS ////////////////////////////////////

function PushOrChangeFgFader(eid, fade_delta, invert) {
	var idx =3D -1;
	for (var i =3D 0; i &lt; fgfaders.length; i++) {
		if (fgfaders[i][0] =3D=3D eid) {
			fgfaders[i][2] =3D fade_delta;
			idx =3D i;
			break;
		}
	}
	if (idx &lt; 0) {
		fgfaders.push([eid, 0, fade_delta, 0, invert ? 1 : 0]);
	}
}

// fgfaders[i][0] .. eid
// fgfaders[i][1] .. fade_step
// fgfaders[i][2] .. fade_delta
// fgfaders[i][3] .. fade_delay_out
// fgfaders[i][4] .. invert

function ProcessFgFaders() {
	var fgcolors =3D [[58, 170, 53], [68, 199, 62]];
=09
	for (var i =3D 0; i &lt; fgfaders.length; i++) {
		if (fgfaders[i][2] =3D=3D 0) {
			continue;
		}
		var e =3D document.getElementById(fgfaders[i][0]);
		if (!e) {
			continue;
		}
	=09
		var e_op =3D fgfaders[i][1];
		var e_d =3D fgfaders[i][2];
		if (e_d &lt; 0 &amp;&amp; fgfaders[i][3] &gt; 0) {
			fgfaders[i][3]--;
		}
		else {
			if (e_d &lt; 0 &amp;&amp; e_op + e_d &lt;=3D 0) {
				fgfaders[i][1] =3D 0;
				fgfaders[i][2] =3D 0;
			}
			else if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D 1) {
				fgfaders[i][1] =3D 1;
				fgfaders[i][2] =3D 0;
				fgfaders[i][3] =3D fade_delay_out;
			}
			else {
				fgfaders[i][1] =3D e_op + e_d;
			}
			var temp_r =3D Math.round(fgcolors[fgfaders[i][4]][0] + fgfaders[i][1] *=
 (fgcolors[fgfaders[i][4] ? 0 : 1][0] - fgcolors[fgfaders[i][4]][0]));
			var temp_g =3D Math.round(fgcolors[fgfaders[i][4]][1] + fgfaders[i][1] *=
 (fgcolors[fgfaders[i][4] ? 0 : 1][1] - fgcolors[fgfaders[i][4]][1]));
			var temp_b =3D Math.round(fgcolors[fgfaders[i][4]][2] + fgfaders[i][1] *=
 (fgcolors[fgfaders[i][4] ? 0 : 1][2] - fgcolors[fgfaders[i][4]][2]));
			e.style.color =3D 'rgb('+temp_r+','+temp_g+','+temp_b+')';
		}
	}
}

/////////////////


///////////////// MOTION FADERS ////////////////////////////////////

function PushOrChangeMotionFader(eid, fade_delta, target_x, target_y, targe=
t_s, start_x, start_y, start_s) {
	var e =3D document.getElementById(eid);
	if (!e) {
		return;
	}
	var params =3D [start_x, start_y, start_s, target_x, target_y, target_s];
=09
	var idx =3D -1;
	for (var i =3D 0; i &lt; mofaders.length; i++) {
		if (mofaders[i][0] =3D=3D eid) {
//x			mofaders[i][1] =3D 0;
			mofaders[i][2] =3D fade_delta;
			mofaders[i][3] =3D params;
			idx =3D i;
			break;
		}
	}
	if (idx &lt; 0) {
		mofaders.push([eid, 0, fade_delta, params]);
	}
}

// mofaders[i][0] .. eid
// mofaders[i][1] .. fade_step
// mofaders[i][2] .. fade_delta   // &gt;=3D 0
// mofaders[i][3][0] .. motion_start_x
// mofaders[i][3][1] .. motion_start_y
// mofaders[i][3][2] .. motion_start_s
// mofaders[i][3][3] .. motion_target_x
// mofaders[i][3][4] .. motion_target_y
// mofaders[i][3][5] .. motion_target_s

function ProcessMotionFaders() {
	for (var i =3D 0; i &lt; mofaders.length; i++) {
		if (mofaders[i][2] =3D=3D 0) {
			continue;
		}
		var e =3D document.getElementById(mofaders[i][0]);
		if (!e) {
			continue;
		}


/****
		if (e_d &lt; 0 &amp;&amp; e_op + e_d &lt;=3D 0) {
			fgfaders[i][1] =3D 0;
			fgfaders[i][2] =3D 0;
		}
		else if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D 1) {
			fgfaders[i][1] =3D 1;
			fgfaders[i][2] =3D 0;
			fgfaders[i][3] =3D fade_delay_out;
		}
		else {
			fgfaders[i][1] =3D e_op + e_d;
		}
		var temp_r =3D Math.round(fgcolors[fgfaders[i][4]][0] + fgfaders[i][1] * =
(fgcolors[fgfaders[i][4] ? 0 : 1][0] - fgcolors[fgfaders[i][4]][0]));
		var temp_g =3D Math.round(fgcolors[fgfaders[i][4]][1] + fgfaders[i][1] * =
(fgcolors[fgfaders[i][4] ? 0 : 1][1] - fgcolors[fgfaders[i][4]][1]));
		var temp_b =3D Math.round(fgcolors[fgfaders[i][4]][2] + fgfaders[i][1] * =
(fgcolors[fgfaders[i][4] ? 0 : 1][2] - fgcolors[fgfaders[i][4]][2]));
		e.style.color =3D 'rgb('+temp_r+','+temp_g+','+temp_b+')';
****/

		var e_op =3D mofaders[i][1];
		var e_d =3D mofaders[i][2];

		if (e_d &lt; 0 &amp;&amp; e_op + e_d &lt;=3D 0) {
			mofaders[i][1] =3D 0;
			mofaders[i][2] =3D 0;
		}
		else if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D 1) {
			mofaders[i][1] =3D 1;
			mofaders[i][2] =3D 0;
		}
		else {
			mofaders[i][1] =3D e_op + e_d;
		}
		e.style.transform =3D 'scale('
								+ (Math.round((mofaders[i][3][2] + (1 - Math.cos(Math.pow(mofaders[=
i][1], 1) * Math.PI)) / 2 * (mofaders[i][3][5] - mofaders[i][3][2])) * 1000=
0) / 10000)
							+ ') translate('
								+ (Math.round((mofaders[i][3][0] + (1 - Math.cos(Math.pow(mofaders[=
i][1], 1) * Math.PI)) / 2 * (mofaders[i][3][3] - mofaders[i][3][0])) * 1000=
0) / 10000)
								+ '%, '
								+ (Math.round((mofaders[i][3][1] + (1 - Math.cos(Math.pow(mofaders[=
i][1], 1) * Math.PI)) / 2 * (mofaders[i][3][4] - mofaders[i][3][1])) * 1000=
0) / 10000)
								+ '%'
							+ ')'
		;
	}
}

/////////////////



function ShowElement(element_id, display_mode, fade, fade_len, no_z_index) =
{
	return ShowOrHideElement(element_id, 'show', display_mode, fade, fade_len,=
 no_z_index)
}
function HideElement(element_id, display_mode, fade, fade_len, no_z_index) =
{
	return ShowOrHideElement(element_id, 'hide', display_mode, fade, fade_len,=
 no_z_index)
}


function ShowOrHideElement(element_id, command, display_mode, fade, fade_le=
n, no_z_index) {
	var e =3D document.getElementById(element_id);
	if (!e) {
		return false;
	}
	if (!display_mode) {
		display_mode =3D 'block';
	}

	if (command !=3D 'show' &amp;&amp; command !=3D 'hide') {
		if (e.style.display !=3D 'none') {
			command =3D 'hide';
		}
		else {
			command =3D 'show';
		}
	}
=09
	if (command =3D=3D 'show') {
		if (!fade) {
			e.style.display =3D display_mode;
		}
		else {
			PushOrChangeFader(element_id, fade_len ? fade_len : fade_delta_in, no_z_=
index, display_mode);
		}
	}
	else if (command =3D=3D 'hide') {
		if (!fade) {
			e.style.display =3D 'none';
		}
		else {
			PushOrChangeFader(element_id, fade_len ? -fade_len : -fade_delta_out, no=
_z_index, display_mode);
		}
	}
=09
	return false;
}

function CheckAll(aform, input_name, id_writtendown) {
	var ids =3D document.forms[aform][id_writtendown].value.split(",");
	for (var i =3D 0; i &lt; ids.length; i++) {
		document.forms[aform][input_name+'_'+ids[i]].checked =3D true;
	}
	return false;
}

function UnCheckAll(aform, input_name, id_writtendown) {
	var ids =3D document.forms[aform][id_writtendown].value.split(",");
	for (var i =3D 0; i &lt; ids.length; i++) {
		document.forms[aform][input_name+'_'+ids[i]].checked =3D false;
	}
	return false;
}

function FocusLogin() {
	var e_dfl_login =3D document.forms['form_login']['login'];
	var e_dfl_password =3D document.forms['form_login']['password'];
	if (e_dfl_login &amp;&amp; e_dfl_login.value =3D=3D '' &amp;&amp; e_dfl_pa=
ssword &amp;&amp; e_dfl_password.value =3D=3D '') {
		e_dfl_login.focus();
	}
}

function Init() {
// */
/*
	if (document.getElementById('admin_menu')) {
		document.getElementById('admin_menu').onmousemove =3D AdminMenuMouseMove;
		AdminMenuRedraw(null);
	}
*/=09
	var i_buboximage_ids =3D document.getElementById('buboximage_ids');
	if (i_buboximage_ids &amp;&amp; i_buboximage_ids.value !=3D '') {
		var buboximage_ids =3D i_buboximage_ids.value.split(',');
		var e;
		for (var i =3D 0; i &lt; buboximage_ids.length; i++) {
			e =3D document.getElementById('bublina_box_gfx_'+buboximage_ids[i]);
			if (e) {
//+				e.onmousemove =3D BublinaBoxMouseMove;
				BublinaBoxCenter(buboximage_ids[i]);
			}
/*x			e =3D document.getElementById('bublina_box_'+buboximage_ids[i]);
			if (e) {
				e.onmouseover =3D BublinaBoxMouseOver;
				e.onmouseout =3D BublinaBoxMouseOut;
			} */
		}
	}
=09

	if (document.getElementsByTagName) {
/*
		if (document.getElementById('imagebox_head')) {
			var ib =3D ImageBox.createFromList('imagebox_head', [
				'style/head_images/pict_01.jpg',
				'style/head_images/pict_02.jpg',
				'style/head_images/pict_03.jpg'
			]);
			ib.toggleSlideshow(true);
		}
*/
		ImageBox.createAll("inner_content");
	}
=09
	if (advUpload_filelistBoxes) {
		var adv_mode =3D false;
		if (window.XMLHttpRequest &amp;&amp; window.URL &amp;&amp; window.URL.cre=
ateObjectURL) {
			adv_mode =3D true;
		}
	=09
//F		for (var i =3D 0; i &lt; advUpload_filelistBoxes.length; i++) {
		advUpload_filelistBoxes.forEach(  // forEach is used because creates new =
context and we need this to addEventListener('drop', ...)
			function (advUpload_filelistBox) {
				var elements_postfix =3D advUpload_filelistBox[0] + advUpload_filelistB=
ox[1] + '_' + advUpload_filelistBox[2] + '_' + advUpload_filelistBox[3];
				var box_show =3D null;
				if (adv_mode) {
				=09
					var e_dropArea =3D document.getElementById('file_upload_drop_area_' + =
elements_postfix);
					if (e_dropArea) {
						e_dropArea.addEventListener('dragover', AdvUpload_DragOver, false);
						e_dropArea.addEventListener('dragenter', AdvUpload_DragEnter, false);
						e_dropArea.addEventListener('dragleave', AdvUpload_DragLeave, false);
	//Q					e_dropArea.addEventListener('drop', AdvUpload_FilesDropped, false)=
;
	/*Q*/
						e_dropArea.addEventListener('drop', function(e) {
							e.stopPropagation();
							e.preventDefault();
							AdvUpload_FilesDropped(e, [advUpload_filelistBox[1], advUpload_filel=
istBox[2], advUpload_filelistBox[3]]);
						}, false);
	/*Q*/
					}
				=09
					box_show =3D document.getElementById('file_upload_advanced_box_' + ele=
ments_postfix);
				}
				else {
					box_show =3D document.getElementById('file_upload_inputs_box_' + eleme=
nts_postfix);
				}
			=09
				if (box_show) {
					box_show.style.display =3D 'block';
				}
			}  // function of foreach
		);  // foreach
//F		}  // for
	}

	if (00 &amp;&amp; isIE) {
		disable_fade =3D true;
		fade_delta_in =3D 1;
		fade_delta_out =3D 1;
		fade_delay_out =3D 0;
		stuff_period =3D 200;
	}
	DoTheStuff();

//f	window.onhashchange =3D WindowHashChanged;
	window.onkeydown =3D FMS_KeyBody;
	window.onclick =3D FMS_ClickBody;
/*f=09
	if (location.hash !=3D '') {
		WindowHashChanged();
	}
	else {
		if ("FMS_initial_adds" in window) {
			AddInitialAdds(FMS_initial_adds);
		}
	=09
//?		fms_initialized =3D true;
	=09
		if (document.getElementById('fmsi_results_box')) {
			FMS_Load('', false, true);
		}
	}
f*/=09
	var start_sor =3D document.getElementById('start_strom_opened_roles');
	if (start_sor &amp;&amp; start_sor.value !=3D '') {
		var arr_sor =3D start_sor.value.split(',');
		for (var i =3D 0; i &lt; arr_sor.length; i++) {
			CBGroupClick(arr_sor[i], 'set');
		}
	}
=09
	if (document.getElementById('ka_calendar_box')) {
		KA_InitCalendar();
	}

	var e_rg =3D document.getElementById('run_graf');
	if (e_rg &amp;&amp; e_rg.value !=3D '') {
		AjaxLoad([e_rg.value]);
	}

	MouseHintInit();
=09
	HideDisablerTransfer();
=09
	// var hpv =3D document.getElementById('hp_video');
	// if (hpv) {
		// setTimeout("document.getElementById('hp_video').play();", 500);
	// }
=09
	// PlgAnimNext();

	if (document.getElementById('content_banner_img_1')) {
		ShowNextContentBannerImage();
	}
}

var plg_anim_a =3D 0;

function PlgAnimNext() {
	var e_bgu2 =3D document.getElementById('bg_underlayer2');
	if (e_bgu2) {
		plg_anim_a =3D (plg_anim_a + 20) % 360;
		e_bgu2.style.transform =3D 'translate(-50%, -50%) rotate(' + plg_anim_a +=
 'deg)';
		setTimeout("PlgAnimNext()", 2000);
	}
}

var content_banner_actual_image =3D 0;

function ShowNextContentBannerImage() {
	if (content_banner_actual_image) {
		var e_cbi_last =3D document.getElementById('content_banner_img_' + conten=
t_banner_actual_image);
		ElementRemoveClass(e_cbi_last, 'content_banner_img_active');
	}
=09
	content_banner_actual_image++;
	var e_cbi =3D document.getElementById('content_banner_img_' + content_bann=
er_actual_image);
	if (!e_cbi) {
		content_banner_actual_image =3D 1;
		e_cbi =3D document.getElementById('content_banner_img_' + content_banner_=
actual_image);
	}
	ElementAddClass(e_cbi, 'content_banner_img_active');
=09
	setTimeout("ShowNextContentBannerImage();", 16000);
}

function FMS_DestroyFilters() {
	if ("FMS_filters" in window) {
		FMS_filters =3D [];
	}
}

function AddInitialAdds(fms_ia) {
	for (var i =3D 0; i &lt; fms_ia.length; i++) {
		FMS_AddItem(fms_ia[i][0], fms_ia[i][1], fms_ia[i][2], fms_ia[i][3], true,=
 fms_ia[i][4]);  // true .. dont_load
	=09
		if (fms_ia[i][0] =3D=3D 'nazev') {
			fms_last_nazev =3D fms_ia[i][1];
		}
	}
}


function InitHeadImages() {
	if (document) {
		var chi =3D document.getElementById('canvas_head_images');
		if (chi &amp;&amp; chi.getContext) {
			ctx_hi =3D chi.getContext('2d');
			if (window.requestAnimationFrame) {
				hi_use_raf =3D true;
			}
		=09
			var cht =3D document.getElementById('canvas_head_texts');
			if (cht &amp;&amp; cht.getContext) {
				ctx_ht =3D cht.getContext('2d');
			}
		=09
			LoadNextHeadImage();
		}
	}
	else {
		setTimeout("InitHeadImages();", 300);  // retry
	}
}

function LoadNextHeadImage() {
	if (head_images_count &lt; head_images_filenames.length) {
		var img =3D new Image();
		img.onload =3D function() {
			HeadImageLoaded(this);
		};
		img.src =3D head_images_filenames[head_images_count];
	}
}

function HeadImageLoaded(e_img) {
	head_images_data.push(e_img);
=09
	head_images_count++;
=09
//-	console.log('Image '+head_images_count+' loaded.');
	ctx_hi.globalAlpha =3D 0.01;
	ctx_hi.drawImage(e_img, 0, hi_height - 1);  // proti prvotnimu skubnuti
=09
	LoadNextHeadImage();
=09
	if (head_images_count =3D=3D 1) {  // first image loaded
		ShowNextHeadImage();
		if (hi_use_raf) {
			window.requestAnimationFrame(TransformHeadImage);
		}
		else {
			TransformHeadImage();
		}
	}
}

function ShowNextHeadImage(force) {
	var num =3D actual_head_image + 1;
	if (num &gt;=3D head_images_count) {
		num =3D 0;
	}
	SetNextHeadImage(num, force);
}

function ShowPrevHeadImage(force) {
	var num =3D actual_head_image - 1;
	if (num &lt; 0) {
		num =3D head_images_count - 1;
	}
	SetNextHeadImage(num, force);
}

function SetNextHeadImage(image_num, force) {
	if (image_num &lt; 0 || image_num &gt;=3D head_images_count) {
		return;
	}
=09
	if (last_head_text_fade_out_delay &gt; 0) {
		PushOrChangeFader('head_text_' + last_head_image, -0.04, true);
		last_head_text_fade_out_delay =3D 0;
	}
=09
	last_head_image =3D actual_head_image;  // -1, 0, 1, 2, ...
	last_head_image_scale =3D head_image_scale;
	last_head_image_alpha =3D head_image_alpha;
=09
	actual_head_image =3D image_num;
=09
	if (last_head_image &gt;=3D 0) {
		if (force) {
			PushOrChangeFader('head_text_' + last_head_image, -0.04, true);
			last_head_text_fade_out_delay =3D 0;
			actual_head_text_fade_in_delay =3D 10;
		}
		else {
			last_head_text_fade_out_delay =3D 1;
			actual_head_text_fade_in_delay =3D 30;
		}
	}
	else {
		actual_head_text_fade_in_delay =3D 40;
	}
=09
	head_image_scale =3D 0;
}



var hi_transform_counter =3D 0;

function TransformHeadImage(raf_time_actual) {
	if (ctx_hi) {
		hi_transform_counter =3D (hi_transform_counter + 1) % 1;
		if (hi_transform_counter) {
			window.requestAnimationFrame(TransformHeadImage);
			return;
		}
// /*x	=09
		if (hi_use_raf &amp;&amp; raf_time_actual - raf_time_last &lt; 25) {
			window.requestAnimationFrame(TransformHeadImage);
			return;
		}
// */	=09
		raf_time_last =3D raf_time_actual;

		var time_start =3D new Date().getTime();
		var sx =3D head_image_scale /*F + hi_width */;
		var sy =3D Math.round(sx * hi_height / hi_width);
//x		head_image_alpha =3D 1;
//-		head_image_alpha =3D (last_head_image &lt; 0 &amp;&amp; head_image_sca=
le &lt; 100 ? Math.pow(head_image_scale / 100, 2) : (head_image_scale &lt; =
500 ? Math.pow(head_image_scale / 500, 2) : 1));
		if (last_head_image &lt; 0) {
			head_image_alpha =3D (head_image_scale &lt; 150 ? Math.pow(head_image_sc=
ale / 150, 2) : 1);
		}
		else {
			head_image_alpha =3D 1; // (head_image_scale &lt; 50 ? Math.pow(head_ima=
ge_scale / 50, 2) : 1);
		}
		ctx_hi.globalAlpha =3D head_image_alpha;
		ctx_hi.drawImage(head_images_data[actual_head_image], sx, sy, hi_width - =
2 * sx, hi_height - 2 * sy, 0, 0, hi_width, hi_height);
	=09
		if ( /*x head_image_scale &lt; 150 */ last_head_image_alpha &gt; 0 &amp;&=
amp; last_head_image &gt;=3D 0) {
			var sx =3D Math.pow(head_image_scale, 1) + last_head_image_scale /*F + h=
i_width */;
			var sy =3D Math.round(sx * hi_height / hi_width);
			sx =3D Math.round(sx);  // aby bylo sy co nejpresnejsi
//x			ctx_hi.globalAlpha =3D 1 - head_image_scale / 150;

//o			last_head_image_alpha =3D Math.max(0, last_head_image_alpha - 0.05);
			last_head_image_alpha =3D (1 + Math.cos(head_image_scale / 40 * Math.PI)=
) / 2;
			ctx_hi.globalAlpha =3D last_head_image_alpha;
		=09
			ctx_hi.drawImage(head_images_data[last_head_image], sx, sy, hi_width - 2=
 * sx, hi_height - 2 * sy, 0, 0, hi_width, hi_height);
		}
	=09
		if (last_head_text_fade_out_delay) {
			last_head_text_fade_out_delay--;
			if (!last_head_text_fade_out_delay) {
				PushOrChangeFader('head_text_' + last_head_image, -0.04, true);
			}
		}
		if (actual_head_text_fade_in_delay) {
			actual_head_text_fade_in_delay--;
			if (!actual_head_text_fade_in_delay) {
				PushOrChangeFader('head_text_' + actual_head_image, 0.05, true);
			}
		}
	=09
/*-		if (ctx_ht) {
			ctx_ht.shadowOffsetX =3D 1;
			ctx_ht.shadowOffsetY =3D 1;
			ctx_ht.shadowBlur =3D 15;
			ctx_ht.shadowColor =3D 'rgba(0, 0, 0, 0.05)';
			ctx_ht.font =3D '60px myFont1Bold';
			ctx_ht.fillStyle =3D '#ffffff';
			ctx_ht.fillText('Kilometry z=C3=A1bavy v MINI', 50, 50);
		}
*/
	=09
		head_image_scale++;
	=09
		if (head_image_scale &gt; 30 * 5 /* 195 */ ) {
			ShowNextHeadImage();
		}
	=09
		var time_actual =3D new Date().getTime();
//x		document.getElementById('output_fps').innerText =3D ('raf=3D'+hi_use_r=
af+', ')+(main_time_last &amp;&amp; main_time_last !=3D time_actual ? forma=
tNumber(1000 / (time_actual - main_time_last), 0 /*1*/)  : '');
	=09
		if (hi_use_raf) {
			window.requestAnimationFrame(TransformHeadImage);
		}
		else {
			setTimeout("TransformHeadImage(0);", 32 - Math.min(31, Math.max(0, time_=
actual - time_start)));  //R
		}

		main_time_last =3D time_actual;
	}
}

function DoTheStuff() {
	ProcessFaders();
	ProcessBgFaders();
	ProcessFgFaders();
	ProcessScrollFaders();
	ProcessMotionFaders();
//	ProcessFMSStuff();
	setTimeout("DoTheStuff();", stuff_period);
}


//////////////// app


function BublinaBoxMouseOver(e, eid_pf) {
	if (!eid_pf) {
		var eid =3D e.currentTarget.getAttribute('id');
		var tmp_prefix =3D 'bublina_box_';
		if (eid.indexOf(tmp_prefix) !=3D=3D 0) {
			return;
		}
		eid_pf =3D eid.substr(tmp_prefix.length);
	}
=09
	PushOrChangeFader('bublina_box_hover_' + eid_pf, fade_delta_in, true);
	PushOrChangeBgFader('bublina_box_bottom_line_' + eid_pf, fade_delta_in, 1,=
 0);
	PushOrChangeBgFader('bublina_box_button_' + eid_pf, fade_delta_in, 2, 1);
	PushOrChangeFgFader('bublina_box_headline_' + eid_pf, fade_delta_in);
=09
	var img =3D document.getElementById('bublina_box_img_' + eid_pf);
	if (img) {
		if (img.clientWidth) {
			img.style.height =3D 'auto';
			BublinaBoxCenter(eid_pf);
		}
		else {
			setTimeout("BublinaBoxMouseOver(null, \'"+eid_pf+"\');", 100);  // pokud=
 jeste neni obrazek nacten
		}
	}
}

function BublinaBoxMouseOut(e, eid_pf) {
	if (!eid_pf) {
		var eid =3D e.currentTarget.getAttribute('id');
		var tmp_prefix =3D 'bublina_box_';
		if (eid.indexOf(tmp_prefix) !=3D=3D 0) {
			return;
		}
		eid_pf =3D eid.substr(tmp_prefix.length);
	}
=09
	PushOrChangeFader('bublina_box_hover_' + eid_pf, -fade_delta_out, true);
	PushOrChangeBgFader('bublina_box_bottom_line_' + eid_pf, -fade_delta_out, =
1, 0);
	PushOrChangeBgFader('bublina_box_button_' + eid_pf, -fade_delta_out, 2, 1)=
;
	PushOrChangeFgFader('bublina_box_headline_' + eid_pf, -fade_delta_out);
=09
	var img =3D document.getElementById('bublina_box_img_' + eid_pf);
	if (img) {
		if (img &amp;&amp; img.clientWidth) {
			img.style.height =3D '200px';
			BublinaBoxCenter(eid_pf);
		}
		else {
			setTimeout("BublinaBoxMouseOut(null, \'"+eid_pf+"\');", 100);
		}
	}
}

function BublinaBoxCenter(eid_pf) {
	var div_image =3D document.getElementById('bublina_box_image_' + eid_pf);
	var img =3D document.getElementById('bublina_box_img_' + eid_pf);
	if (div_image &amp;&amp; img) {
		var div_image_brect =3D div_image.getBoundingClientRect();
		var new_left =3D Math.round(-(img.clientWidth - 200) * 0.5);
		var new_top =3D Math.round(-(img.clientHeight - 200) * 0.5);
		img.style.left =3D new_left + 'px';
		img.style.top =3D new_top + 'px';
	}
}

function BublinaBoxMouseMove(e) {
//x    var e =3D window.event;
	var eid =3D e.currentTarget.getAttribute('id');
	var tmp_prefix =3D 'bublina_box_gfx_';
	if (eid.indexOf(tmp_prefix) =3D=3D=3D 0) {
		var eid_pf =3D eid.substr(tmp_prefix.length);
		if (e.pageX || e.pageY)     {
			posx =3D e.pageX;
			posy =3D e.pageY;
		}
		else if (e.clientX || e.clientY)     {
			posx =3D e.clientX + document.body.scrollLeft + document.documentElement=
.scrollLeft;
			posy =3D e.clientY + document.body.scrollTop + document.documentElement.=
scrollTop;
		}
	=09
		var div_image =3D document.getElementById('bublina_box_image_' + eid_pf);
		var img =3D document.getElementById('bublina_box_img_' + eid_pf);
		if (div_image &amp;&amp; img) {
			var div_image_brect =3D div_image.getBoundingClientRect();
			var new_left =3D Math.round(-(img.clientWidth - 200) * Math.max(0, Math.=
min(1, (posx - (div_image_brect.left + document.body.scrollLeft + document.=
documentElement.scrollLeft)) / 221)));
			var new_top =3D Math.round(-(img.clientHeight - 200) * Math.max(0, Math.=
min(1, (posy - (div_image_brect.top + document.body.scrollTop + document.do=
cumentElement.scrollTop)) / 221)));
			img.style.left =3D new_left + 'px';
			img.style.top =3D new_top + 'px';
		}
	}
}


function AdminMenuMouseMove(e) {
    var posx =3D 0;
    var posy =3D 0;
    if (!e) var e =3D window.event;
    if (e.pageX || e.pageY)     {
        posx =3D e.pageX;
        posy =3D e.pageY;
    }
    else if (e.clientX || e.clientY)     {
        posx =3D e.clientX + document.body.scrollLeft + document.documentEl=
ement.scrollLeft;
        posy =3D e.clientY + document.body.scrollTop + document.documentEle=
ment.scrollTop;
    }
    var menumousex =3D (posx - WinW() / 2);
	AdminMenuRedraw(menumousex);
//-	document.getElementById('admin_menu_debug').innerHTML =3D ('x=3D' + men=
umousex);
}

function AdminMenuRedraw(menumousex) {
	var adminmenu_top =3D 285;
	var img_size =3D 70;
	var winw =3D WinW();
	if (document.getElementsByTagName) {
		var tags =3D document.getElementById('admin_menu').getElementsByTagName("=
a");
		for (var i =3D 0; i &lt; tags.length; i++) {
			var img_rx =3D i * img_size - tags.length * img_size / 2 + img_size / 2;
			var img_rx_dx =3D -((menumousex - img_rx) &gt; 0 ? 1 : -1) * Math.pow(Ma=
th.abs(menumousex - img_rx) / img_size, .6) /* *5 */ * 0;
			if (menumousex !=3D=3D null) {
//x				var img_rx_dx =3D ((menumousex - img_rx) &gt; 0 ? 1 : -1) * (-Math.c=
os(Math.min(1, Math.abs(menumousex - img_rx) / img_size / 4) * 2 * Math.PI)=
 + 1) * 3;
//x				var img_rx_dx =3D ((menumousex - img_rx) &gt; 0 ? 1 : -1) * (Math.si=
n(Math.min(1, Math.abs(menumousex - img_rx) / img_size / 4) * Math.PI) + 1)=
 * 3;
//x				var img_rx_dx =3D ((menumousex - img_rx) &gt; 0 ? 1 : -1) * (-Math.c=
os(Math.min(1, Math.abs(menumousex - img_rx) / img_size / 4) * 2 * Math.PI)=
 + 1) * 3;
				img_rx +=3D img_rx_dx;
			}
			var img_w =3D img_size - (img_size / 7) * (menumousex =3D=3D=3D null ? 1=
 : Math.pow(Math.min(1, Math.abs(menumousex - img_rx) / img_size / 2), 1));
//x			var img_w =3D img_size - (img_size / 7) * (menumousex =3D=3D=3D null =
? 1 : Math.min(1, Math.abs(menumousex - img_rx) / img_size / 2));
			tags_img =3D tags[i].getElementsByTagName("img");
			tags_img[0].style.width =3D Math.round(img_w) + 'px';
			tags[i].style.left =3D Math.round(winw / 2 + img_rx - img_w / 2) + 'px';
			tags[i].style.top =3D Math.round(adminmenu_top - img_w / 2) + 'px';
			if (menumousex =3D=3D=3D null &amp;&amp; tags[i].style.visibility !=3D '=
visible') {
				tags[i].style.visibility =3D 'visible';
			}
		}
	}=09
}







////

function formatNumber(number, precision) {
	var num_int =3D '';
	var num_float =3D '';
	var numstr =3D number.toFixed(precision);
	if (precision &gt; 0) {
		var numstrarr =3D numstr.split(".");
		num_int =3D numstrarr[0];
		num_float =3D ',' + numstrarr[1];
	}
	else {
		num_int =3D numstr;
	}
=09
	var result =3D '';
	for (var i =3D 0; i &lt; num_int.length; i++) {
		result =3D num_int.charAt(num_int.length - i - 1) + (i % 3 =3D=3D 0 &amp;=
&amp; i &gt; 0 &amp;&amp; num_int.charAt(num_int.length - i - 1) !=3D '-' ?=
 ' ' : '') + result;
	}
	return (result + num_float);
}

///// IMAGE MENU

var image_menu_actual =3D '';

function ShowImageMenu(image_menu) {
	if (image_menu_actual !=3D '') {
		// PushOrChangeFader(image_menu_actual, -fade_delta_out);
		PushOrChangeFader(image_menu_actual, -1);
/*		PushOrChangeBgFader(image_menu_actual + '_tr1', -fade_delta_out, 1);
		PushOrChangeBgFader(image_menu_actual + '_tr2', -fade_delta_out, 1); */
		var e_tr1 =3D document.getElementById(image_menu_actual + '_tr1');
		var e_tr2 =3D document.getElementById(image_menu_actual + '_tr2');
		if (e_tr1 &amp;&amp; e_tr2) {  // nemusi existovat, napr. po odstraneni o=
brazku ajaxem
			e_tr1.style.backgroundColor =3D 'transparent';
			e_tr2.style.backgroundColor =3D 'transparent';
		}
		if (image_menu_actual =3D=3D image_menu) {
			image_menu =3D '';  // hide actual only
		}
	}
	if (image_menu !=3D '') {
		// PushOrChangeFader(image_menu, fade_delta_in, true);
		PushOrChangeFader(image_menu, 1, true);
/*		PushOrChangeBgFader(image_menu + '_tr1', fade_delta_in, 1);
		PushOrChangeBgFader(image_menu + '_tr2', fade_delta_in, 1); */
		document.getElementById(image_menu + '_tr1').style.backgroundColor =3D '#=
49a3da';
		document.getElementById(image_menu + '_tr2').style.backgroundColor =3D '#=
49a3da';
	}
	image_menu_actual =3D image_menu;
	return false;
}

function HideImageMenu(ev) {
	ShowImageMenu('');
	if (ev) {
		ev.stopPropagation();
	}
	return false;
}

function TMCEInsertImage(id_textarea, image_src, image_class, ev, specs) {
	var ed =3D tinyMCE.get(id_textarea);
	var range =3D ed.selection.getRng();
	var imgNode =3D ed.getDoc().createElement("img");
	imgNode.src =3D image_src;
	if (image_class !=3D '') {
		imgNode.className =3D image_class;
	}
=09
	if (specs =3D=3D=3D 'p_center') {
		var pNode =3D ed.getDoc().createElement("p");
		pNode.setAttribute("style", "text-align: center;");
		pNode.appendChild(imgNode);
		range.insertNode(pNode);
	}
	else {
		range.insertNode(imgNode);
	}
=09
	HideImageMenu(ev);
	return false;
}

function TMCEInsertLink(id_textarea, file_href, link_text, ev) {
	var ed =3D tinyMCE.get(id_textarea);
	var range =3D ed.selection.getRng();
	var aNode =3D ed.getDoc().createElement("a");
	aNode.setAttribute("href", file_href);
	aNode.setAttribute("target", "_blank");
	aNode.innerText =3D link_text;
	aNode.innerHTML =3D '&lt;img src=3D"style/icons/file_icon_2.png" style=3D"=
max-height: 2em; margin: 0 0.5em;" /&gt;' + aNode.innerHTML;
	range.insertNode(aNode);
	HideImageMenu(ev);
	return false;
}

function TMCEInsertVideo(id_textarea, eid_postfix) {
	var ed =3D tinyMCE.get(id_textarea);
	var range =3D ed.selection.getRng();
	var aNode =3D ed.getDoc().createElement("iframe");
	var e_video_href =3D document.getElementById('editinput_' + eid_postfix);
	var video_href =3D e_video_href.value;
	var video_code_matches =3D video_href.match(/watch\?v=3D([^\?\/#]+).*$/);
	if (!video_code_matches) {
		video_code_matches =3D video_href.match(/^[^\?#]*\/([^\?\/#]+).*$/);
	}
	if (video_code_matches) {
		aNode.setAttribute("width", "100%");
		aNode.setAttribute("height", "315");
		aNode.setAttribute("src", 'https://web.archive.org/web/20250128124929/htt=
ps://www.youtube.com/embed/' + video_code_matches[1]);
		aNode.setAttribute("title", "YouTube video player");
		aNode.setAttribute("frameborder", "0");
		aNode.setAttribute("allow", "accelerometer; autoplay; clipboard-write; en=
crypted-media; gyroscope; picture-in-picture");
		aNode.setAttribute("allowfullscreen", "allowfullscreen");
		// aNode.innerText =3D '';
		range.insertNode(aNode);
	=09
		e_video_href.value =3D '';
		var eid_button =3D 'editbutton_' + eid_postfix;
		HideElement(eid_button, 'inline', true, 1);
		setTimeout("ShowElement('" + eid_button + "', 'inline', true);", 500);
	}
	return false;
}

//
function TMCEInsertVideoPlayer(id_textarea, file_src, file_src_type, ev) {
	var ed =3D tinyMCE.get(id_textarea);
	var range =3D ed.selection.getRng();
	var aNode =3D ed.getDoc().createElement("video");
	var aNodeSrc =3D ed.getDoc().createElement("source");
	aNode.setAttribute("style", "width: 100%; height: auto;");
	aNode.setAttribute("controls", "1");
	aNodeSrc.setAttribute("src", file_src);
	aNodeSrc.setAttribute("type", file_src_type);
	aNode.appendChild(aNodeSrc);
	// aNode.innerText =3D '';
	range.insertNode(aNode);
	HideImageMenu(ev);
	return false;
}

function TMCEInsertAudioPlayer(id_textarea, file_src, ev) {
	var ed =3D tinyMCE.get(id_textarea);
	var range =3D ed.selection.getRng();
	var aNode =3D ed.getDoc().createElement("audio");
	aNode.setAttribute("src", file_src);
	aNode.setAttribute("controls", "1");
	// aNode.innerText =3D '';
	range.insertNode(aNode);
	HideImageMenu(ev);
	return false;
}
//


/////// AJAX

function AjaxLoad(params, force_load) {
	if (ajax_xmlhttp !=3D=3D null || (ajax_xmlhttp_cache.length &gt; 0 &amp;&a=
mp; !force_load)) {
		ajax_xmlhttp_cache.push(params);
	}
	else {
		if (typeof window.ActiveXObject !=3D=3D 'undefined') {
			ajax_xmlhttp =3D new ActiveXObject('Microsoft.XMLHTTP');
		}
		else if (typeof window.XMLHttpRequest !=3D=3D 'undefined') {
			ajax_xmlhttp =3D new XMLHttpRequest();
		}

	=09
/*		if (document.getElementById('homepage')) {
			params.push('homepage=3D1');
		} */
		params.push('s=3Dajax');
		ajax_xmlhttp.onreadystatechange =3D AjaxXMLDocStateChange;
		ajax_xmlhttp.open("POST", './', true);
		ajax_xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-url=
encoded");
		ajax_xmlhttp.send(params.join('&amp;'));
	}
}

function AjaxXMLDocStateChange() {
	if (ajax_xmlhttp.readyState =3D=3D 4) {
		if (ajax_xmlhttp.status =3D=3D 200) {
			// logy
			AddAjaxLogs(ajax_xmlhttp);
		=09
			//////////

			var x_scdr =3D ajax_xmlhttp.responseXML.documentElement.getElementsByTag=
Name('scd_results');
			if (x_scdr.length &gt; 0) {
				if (x_scdr[0].getAttribute('correct') =3D=3D '1') {
				=09
					/// opened dirs
					var strom_opened_dirs =3D [];
					StromGetOpened('0', strom_opened_dirs);
				=09
					/// opened roles
					var e_strom =3D document.getElementById('strom');
					var strom_opened_roles =3D '';
					for (var i =3D 0; i &lt; global_id_role_all.length; i++) {
						if (ElementHasClass(e_strom, 'strom_enable_cbox_group_' + global_id_r=
ole_all[i])) {
							strom_opened_roles +=3D (strom_opened_roles !=3D '' ? ',' : '') + gl=
obal_id_role_all[i];
						}
					}
					setTimeout("location.href =3D '?s=3Dstrom&amp;strom_opened_roles=3D" +=
 strom_opened_roles + "&amp;strom_opened_dirs=3D" + strom_opened_dirs.join(=
',') + "'", 2000);
				}
				else {
					setTimeout("HideDisablerTransfer(); ElementRemoveClass(document.getEle=
mentById('strom_changes_send_button'), 'strom_changes_send_button_disabled'=
);", 2000);
				}
			}
		=09
			var x_cont =3D ajax_xmlhttp.responseXML.documentElement.getElementsByTag=
Name('content');
			for (var i =3D 0; i &lt; x_cont.length; i++) {
				var e_content =3D document.getElementById(x_cont[i].getAttribute('eid')=
);
				if (e_content) {
					e_content.innerHTML =3D GetSerializedXml(x_cont[i].firstChild);
				}
			}
					=09
			var x_js =3D ajax_xmlhttp.responseXML.documentElement.getElementsByTagNa=
me('javascript');
			if (x_js.length &gt; 0) {
				for (var i =3D 0; i &lt; x_js.length; i++) {
					eval(x_js[i].firstChild.nodeValue);
				}
			}

			var x_grafy_set =3D ajax_xmlhttp.responseXML.documentElement.getElements=
ByTagName('grafy_set');
			for (var i =3D 0; i &lt; x_grafy_set.length; i++) {
				ProcessGrafy(x_grafy_set[i]);
			}

			//////////
=09
		}
		else {
			AddAjaxLog('Nastala chyba p=C5=99i komunikaci se serverem.&lt;br/&gt;Ser=
ver communication error.');
		}
		ajax_xmlhttp =3D null;
		if (ajax_xmlhttp_cache.length &gt; 0) {
			AjaxLoad(ajax_xmlhttp_cache.shift(), true);
		}
/*x		var frd =3D document.getElementById('fmsi_results_disabler');
		if (frd) {
			HideElement('fmsi_results_disabler');
		}
x*/
	}
}

function ProcessGrafy(x_grafy_set) {
	// init constants
	var hodnotyY_koef =3D 0.5;
	var z_index_shift =3D 10;
	var bar_3d =3D true;
	var bar_opacity =3D 0.8;
	var bar_opacity_3d_step =3D 0.15;

	// read XML - grafy
	var x_grafy =3D x_grafy_set.getElementsByTagName('image');
	// HTML element main
	var e_main =3D document.getElementById(x_grafy_set.getAttribute('eid'));

	// cyklus grafy Playground
	for (var i =3D 0; i &lt; x_grafy.length; i++) {
		if (x_grafy[i].getAttribute('type') =3D=3D 'Playground') {
			// read XML - graf
			var x_image =3D x_grafy[i].getElementsByTagName('image');
			// HTML element .grafy
			var e_grafy_max_height =3D 0;
			var e_grafy_max_width =3D 0;
			var e_grafy_max_zindex =3D 0;
			var e_grafy_max_unitSizeX =3D 0;
			var e_grafy_max_barSizeX =3D 0;
			var e_grafy_max_barSizeZ =3D 0;
			var e_grafy_graf_of_bars_count =3D 0;
		=09
			var e_grafy =3D document.createElement('div');
			e_grafy.className =3D 'grafy';
			var e_after_grafy =3D document.createElement('div');
			e_after_grafy.className =3D 'grafy_after';
		=09
			// cyklus graf (images) - hledani maximalnich hodnot
			for (var j =3D 0; j &lt; x_image.length; j++) {
				if (x_image[j].getAttribute('type') =3D=3D 'Graf') {
					e_grafy_max_zindex =3D Number(x_image[j].getAttribute('z')) &gt; e_gra=
fy_max_zindex ? Number(x_image[j].getAttribute('z')) : e_grafy_max_zindex;
				}
			}
			e_grafy_max_zindex +=3D z_index_shift;
		=09
			// cyklus graf (images)
			for (var j =3D 0; j &lt; x_image.length; j++) {
				x_image[j]['type'] =3D x_image[j].getAttribute('type');
				x_image[j]['style'] =3D x_image[j].getAttribute('style');
				x_image[j]['hodnoty'] =3D x_image[j].getElementsByTagName('hodnoty');
				x_image[j]['popisky'] =3D x_image[j].getElementsByTagName('popisky');
				var unitSizeX =3D x_image[j].getAttribute('unitSizeX');
				var unitSizeY =3D x_image[j].getAttribute('unitSizeY');
				var barSizeX =3D x_image[j].getAttribute('barSizeX');
				var barSizeZ =3D x_image[j].getAttribute('barSizeZ');
				var z_persp =3D Math.pow(x_image[j].getAttribute('z'), 0.65); //(j * ba=
rSizeZ);
			=09
				if (x_image[j]['type'] =3D=3D 'Graf') {
					// HTML element .graf
					var e_graf_max_height =3D 0;
					var e_graf_max_width =3D 0;
					var e_graf =3D document.createElement('div');
					e_graf.className =3D 'graf';
					e_graf.style.left =3D x_image[j].getAttribute('x') + 'px';
					e_graf.style.bottom =3D x_image[j].getAttribute('y') + 'px';
					e_graf.style.zIndex =3D e_grafy_max_zindex - x_image[j].getAttribute('=
z');
					if (x_image[j]['style'].length) {
						e_graf.classList.add(x_image[j]['style']);
					}
					// read XML - hodnoty
					if (x_image[j]['hodnoty'][0]) {
						var hodnoty_arr =3D GetSerializedXml(x_image[j]['hodnoty'][0].firstCh=
ild).toString().split(" ");
						if (hodnoty_arr.length &gt; 0 &amp;&amp; hodnoty_arr.length % 2 =3D=
=3D 0) {
							hodnotyX =3D [];
							hodnotyY =3D [];
							for (var ih =3D 0; ih &lt; hodnoty_arr.length; ih +=3D 2) {
								hodnotyX.push(Number(hodnoty_arr[ih]));
								hodnotyY.push(Number(hodnoty_arr[ih + 1]));
								// todo - hledat minimum a maximum prip. prespsat nalezene min a ma=
x dle XML
							}
						}
						// cyklus hodnotyX
						for (var k =3D 0; k &lt; hodnotyX.length; k++) {
							// graf typu BARS
							if (x_image[j]['style'] =3D=3D 'bars') {
								var e_bar_height =3D hodnotyY[k] * hodnotyY_koef * unitSizeY;
								var e_bar_total_width =3D (hodnotyX[k] * unitSizeX + (bar_3d ? k * =
barSizeZ : 0));
								e_graf_max_width =3D e_bar_total_width;
								e_graf_max_height =3D e_bar_height &gt; e_graf_max_height ? e_bar_h=
eight : e_graf_max_height;

								// jeden bar 2D
								var e_bar =3D document.createElement('div');
								e_bar.className =3D 'bar';
								//e_bar.innerHTML +=3D '&lt;span class=3D"val" style=3D"color:#' + =
x_image[j].getAttribute('color') + ';margin-top:-' + (2.75*barSizeZ) + 'px'=
 + ';margin-left:-' + barSizeZ + 'px"&gt;' + hodnotyY[k] + '&lt;/span&gt;';
								//e_bar.innerHTML +=3D '&lt;span class=3D"temp"&gt;' + k + '&lt;br/=
&gt;[' + hodnotyX[k] + ';' + hodnotyY[k] + ']' + '&lt;/span&gt;';
								e_bar.style.background =3D hexToRgbA('#' + x_image[j].getAttribute(=
'color'), bar_opacity);
								e_bar.style.left =3D e_bar_total_width + 'px';
								e_bar.style.height =3D e_bar_height + 'px';
								e_bar.style.width =3D barSizeX + 'px';
							=09
								// jeden bar VALUE
								var e_bar_val =3D document.createElement('span');
								e_bar_val.className =3D 'val';
								e_bar_val.innerHTML =3D hodnotyY[k];
								e_bar_val.style.color =3D '#' + x_image[j].getAttribute('color');
								e_bar_val.style.marginTop =3D (-(bar_3d ? 2.75 : 1.75) * barSizeZ) =
+ 'px';
								e_bar.appendChild(e_bar_val);
							=09
								// jeden bar TEMP ... 9kTODO: delete
								var e_bar_temp =3D document.createElement('span');
								e_bar_temp.className =3D 'temp';
								e_bar_temp.innerHTML =3D '#' + k + '&lt;br/&gt;[' + hodnotyX[k] + '=
; ' + hodnotyY[k] + '; ' + x_image[j].getAttribute('z') + '(' + e_graf.styl=
e.zIndex + ')' + ']';
								e_bar.appendChild(e_bar_temp);
							=09
								if (bar_3d) {
									// jeden bar 2D posun v ose [z] =3D nahoru a doprava
									e_bar.style.bottom =3D (z_persp) + 'px';
									e_bar.style.left =3D e_bar_total_width + (z_persp) + 'px';
								=09
									// jeden bar VALUE posun v ose [z] =3D doprava
									e_bar_val.style.marginLeft =3D barSizeZ + 'px';
								=09
									// jeden bar 3D top =3D horni stena
									var e_bar_top =3D document.createElement('div');
									e_bar_top.className =3D 'bar_depth bar_top';
									e_bar_top.style.background =3D hexToRgbA('#' + x_image[j].getAttri=
bute('color'), bar_opacity - bar_opacity_3d_step);						=09
									e_bar_top.style.height =3D barSizeZ + 'px';
									e_bar_top.style.top =3D '-' + barSizeZ + 'px';
									e_bar_top.style.left =3D (barSizeZ / 2)  + 'px';
									e_bar.appendChild(e_bar_top);
								=09
									// jeden bar 3D left =3D prava stena
									var e_bar_left =3D document.createElement('div');						=09
									e_bar_left.className =3D 'bar_depth bar_left';
									e_bar_left.style.background =3D hexToRgbA('#' + x_image[j].getAttr=
ibute('color'), bar_opacity + bar_opacity_3d_step);
									e_bar_left.style.width =3D barSizeZ + 'px';
									e_bar_left.style.left =3D barSizeX + 'px';
									e_bar_left.style.bottom =3D (barSizeZ / 2)  + 'px';
									e_bar.appendChild(e_bar_left);
								}
							=09
								// bar do grafu
								e_graf.appendChild(e_bar);
							}
						}
					=09
						// HTML element .graf po skonceni cykl=C5=AF pro grafy
						e_graf.style.height =3D e_graf_max_height + 'px';
					}
				=09
					// pridat "graf" do "grafy"
					e_grafy_max_height =3D e_graf_max_height &gt; e_grafy_max_height ? e_g=
raf_max_height : e_grafy_max_height;
					e_grafy_max_unitSizeX =3D unitSizeX &gt; e_grafy_max_unitSizeX ? unitS=
izeX : e_grafy_max_unitSizeX;
					e_grafy_max_width =3D e_graf_max_width &gt; e_grafy_max_width ? e_graf=
_max_width : e_grafy_max_width;
				=09
					if (x_image[j]['style'] =3D=3D 'bars') {
						e_grafy_max_barSizeX =3D barSizeX &gt; e_grafy_max_barSizeX ? barSize=
X : e_grafy_max_barSizeX;
						e_grafy_max_barSizeZ =3D barSizeZ &gt; e_grafy_max_barSizeZ ? barSize=
Z : e_grafy_max_barSizeZ;
						e_grafy_graf_of_bars_count++;
					}
				=09
					e_grafy.appendChild(e_graf);
				=09
					// grafy after ... 9kTODO: delete
					e_after_grafy.innerHTML +=3D 'graf[' + x_image[j]['style'] + ']' + Get=
SerializedXml(x_image[j]['hodnoty'][0]) + '&lt;br/&gt;';
				}
			=09
			} // /cyklus graf (images)
		=09
			// HTML element .grafy
			e_grafy_max_width +=3D parseInt(e_grafy_max_barSizeX);
			e_grafy.style.left =3D parseInt(x_grafy[i].getAttribute('x')) + 'px';
			e_grafy.style.bottom =3D parseInt(x_grafy[i].getAttribute('y')) + 'px';
			e_grafy.style.height =3D parseInt(e_grafy_max_height + (bar_3d ? e_grafy=
_graf_of_bars_count * e_grafy_max_barSizeZ : 0)) + 'px';
		=09
			// HTML element main
			e_main.appendChild(e_grafy);
		}
	} // /cyklus grafy Playground
=09
	// 9kTODO: delete
	if (e_after_grafy) e_main.appendChild(e_after_grafy);
=09

	// -----------------------------------------------------------------------=
--------------------------------------
	// -----------------------------------------------------------------------=
--------------------------------------

	//echo '&lt;svg style=3D"width: 100%; height: 100%; position: absolute; to=
p: 0; right: 50%;"&gt;';
    //echo '&lt;line x1=3D"0" y1=3D"'.round(100 - $temp_last_val / $sum_pod=
il_max * 100, 2).'%" x2=3D"100%" y2=3D"'.round(100 - $temp_new_val / $sum_p=
odil_max * 100, 2).'%" style=3D"stroke: #e9540d; stroke-width: 9; stroke-da=
sharray: 2 1;" /&gt;';
    //echo '&lt;/svg&gt;';=09
=09
	//var x_grafy_0 =3D x_grafy[0];
	//var x_imgs =3D x_grafy_0.getElementsByTagName('image');
=09
	// for (var i =3D 0; i &lt; x_imgs.length; i++) {
		// var x_imgs_style =3D x_imgs[i].getAttribute('style');
		// var x_imgs_hodnoty =3D x_imgs[i].getElementsByTagName('hodnoty');
		// if (x_imgs_hodnoty[0]) {
			// e_main.innerHTML +=3D x_imgs_style + ': ' + GetSerializedXml(x_imgs_h=
odnoty[0].firstChild) + '&lt;br /&gt;';
		// }
	// }
=09
	/**=09
	e_main.innerHTML +=3D 'ahhoj';
	var div1 =3D document.createElement('div');
	div1.setAttribute("id", '_div_1');
	div1.className =3D 'cervene_pozadi';
	div1.innerHTML =3D ' huhle ';
	e_main.appendChild(div1);
	/**/
	// -----------------------------------------------------------------------=
--------------------------------------
	// -----------------------------------------------------------------------=
--------------------------------------
}

function hexToRgbA(hex, alpha) {
    var c;
    if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){
        c =3D hex.substring(1).split('');
        if(c.length =3D=3D 3){
            c =3D [c[0], c[0], c[1], c[1], c[2], c[2]];
        }
        c =3D '0x'+c.join('');
        return 'rgba(' + [(c&gt;&gt;16)&amp;255, (c&gt;&gt;8)&amp;255, c&am=
p;255].join(',') + ',' + alpha + ')';
    }
    throw new Error('Bad Hex');
}


function GetSerializedXml(x) {
	if (x) {
		try {
			return (new XMLSerializer()).serializeToString(x);
		}
		catch (e) {
			try {
				return x.xml;
			}
			catch (e) { =20
				alert('V=C3=A1=C5=A1 prohl=C3=AD=C5=BEe=C4=8D je velmi zastaral=C3=BD.'=
);
			}
		}

	}
	return '';
}

function AddAjaxLogs(ajax_xmlhttp) {
	var e_logs =3D ajax_xmlhttp.responseXML.documentElement.getElementsByTagNa=
me('log');
	var time =3D 0;
	for (var i =3D 0; i &lt; e_logs.length; i++) {
		if (e_logs[i].getAttribute('time')) {
			time =3D e_logs[i].getAttribute('time');
		}
		else {
			time =3D 0;
		}
//-		AddAjaxLog(e_logs[i].firstChild.nodeValue);
		AddAjaxLog(GetSerializedXml(e_logs[i]), time);
	}
}


function AddAjaxLog(log, time) {
	ajax_logs_counter++;
	o_ajax_logs =3D document.getElementById('ajax_logs');
	o_ajax_logs.innerHTML +=3D '&lt;div id=3D"ajax_log_'+ajax_logs_counter+'" =
class=3D"ajax_log"&gt;&lt;img src=3D"style/icons/cancel_grey_24.png" onclic=
k=3D"return HideElement(\'ajax_log_'+ajax_logs_counter+'\');" class=3D"ajax=
_log_close_button" title=3D"Zav=C5=99=C3=ADt" /&gt;'+log+'&lt;/div&gt;';
	var temp_id =3D 'ajax_log_'+ajax_logs_counter;
	setTimeout(function() {if (document.getElementById(temp_id)) document.getE=
lementById(temp_id).style.display =3D 'none';}, (time &gt; 0 ? time : 4000)=
);
}

function ClearAjaxLogs() {
	o_ajax_logs =3D document.getElementById('ajax_logs');
	o_ajax_logs.innerHTML =3D '';
	return false;
}

function setCookie(c_name, c_value, exdays) {
	var exdate =3D new Date();
	exdate.setDate(exdate.getDate() + exdays);
	var c_value =3D escape(c_value) + ((exdays=3D=3Dnull) ? "" : "; expires=3D=
"+exdate.toUTCString());
	document.cookie =3D c_name + "=3D" + c_value;
}


function FMS_GetNotePocet(pocet) {
	return (pocet &amp;&amp; pocet !=3D '0' ? '(' + pocet + ')' : '&lt;span cl=
ass=3D"form_select_item_note_zero"&gt;0&lt;/span&gt;');
}


function FMS_SetFilter(name, subname, val) {
	if (FMS_filters) {
		for (var i =3D 0; i &lt; FMS_filters.length; i++) {
			if (FMS_filters[i][0] =3D=3D name) {
				if (!subname) {
					FMS_filters[i][1] =3D val;  // set
				}
				else if (subname !=3D=3D true) {
					for (var j =3D 0; j &lt; FMS_filters[i][1].length; j++) {
						if (FMS_filters[i][1][j] =3D=3D subname) {
							return;  // already subset
						}
					}  // for j
					FMS_filters[i][1].push(subname);  // subset
				}
				return;
			}
		}
		if (!subname) {
			FMS_filters.push( [name, val] );
		}
		else {
			FMS_filters.push( [name, subname =3D=3D=3D true ? [] : [subname]] );
		}
	}
}

function FMS_ResetFilter(name, subname) {
	if (FMS_filters) {
		for (var i =3D 0; i &lt; FMS_filters.length; i++) {
			if (FMS_filters[i][0] =3D=3D name) {
				if (!subname || subname =3D=3D=3D true) {
					FMS_filters.splice(i, 1);  // reset
					return;
				}
				else {
					for (var j =3D 0; j &lt; FMS_filters[i][1].length; j++) {
						if (FMS_filters[i][1][j] =3D=3D subname) {
							FMS_filters[i][1].splice(j, 1);  // subreset
							return;
						}
					}  // for j
				}
			}
		}
	}
}

function FMS_GetFilter(name, subname) {
	if (FMS_filters) {
		for (var i =3D 0; i &lt; FMS_filters.length; i++) {
			if (FMS_filters[i][0] =3D=3D name) {  // name found
				if (!subname) {
					return FMS_filters[i][1];
				}
				else {
					for (var j =3D 0; j &lt; FMS_filters[i][1].length; j++) {
						if (FMS_filters[i][1][j] =3D=3D subname) {
							return true;  // subname found
						}
					}  // for j
				}
				return false;  // name found, subname not found
			}
		}  // for i
	}
	return false;
}

function FMS_GetAllFilters() {
	var ret =3D '';
	if (FMS_filters) {
		for (var i =3D 0; i &lt; FMS_filters.length; i++) {
			ret +=3D (i =3D=3D 0 ? '' : '|') + FMS_filters[i][0] + '~';
			if (FMS_filters[i][1].constructor =3D=3D=3D Array) {
				ret +=3D encodeURIComponent(FMS_filters[i][1].join(','));
			}
			else {
				ret +=3D encodeURIComponent(FMS_filters[i][1]);
			}
		}  // for i
	}
	return ret;
}


function FMS_ToggleOptions(ev, eid) {
	var e =3D document.getElementById(eid + '_options');
	if (e.style.display =3D=3D 'none') {
		FMS_HideOpenedOptions();
		fms_last_opened_option =3D eid;
	}
	StopEventPropagation(ev);
	return ShowOrHideElement(eid + '_options', '', false, true);
}

function FMS_HideOpenedOptions() {
	if (fms_last_opened_option !=3D '') {
		FMS_HideOptions(fms_last_opened_option);
		fms_last_opened_option =3D '';
	}
}

function FMS_HideOptions(eid) {
	return HideElement(eid + '_options', '', false, true);
}


function FMS_AddItem(item_e, item_id, subitem_e, subitem_id, dont_load, tex=
t_item) {  // subitem_e can be =3D=3D=3D true ... flag
=09
	if (text_item) {
		item_id =3D item_id.replace(/[~\|]/g, '');
	}
=09
	var item_eid =3D item_e + (text_item ? '' : '_' + item_id);
	var subitem_eid =3D (subitem_e =3D=3D=3D true ? true : (subitem_e ? subite=
m_e + '_' + subitem_id : ''));
	var out_eid =3D (subitem_eid /* &amp;&amp; subitem_eid !=3D=3D true */ ? i=
tem_eid : item_e);
=09
	FMS_HideOptions('fmsi_'+(subitem_eid &amp;&amp; subitem_eid !=3D=3D true ?=
 item_eid : item_e));
=09
	var single =3D false;
	var e_hint_set =3D document.getElementById('fmsi_'+out_eid+'_hint_set');
	if (e_hint_set) {
		single =3D true;
		FMS_ResetFilter(out_eid);
		var e_item =3D document.getElementById('fmsi_'+item_eid+(subitem_eid ? '_=
'+subitem_eid : ''));
		var e_item_note =3D document.getElementById('fmsi_'+item_eid+(subitem_eid=
 ? '_'+subitem_eid : '')+'_note');
		var chosen_fid =3D 'fmsi_'+item_eid+(subitem_eid ? '_'+subitem_eid : '')+=
'_chosen';
		e_hint_set.innerHTML =3D '&lt;span id=3D"'+chosen_fid+'_note" class=3D"fo=
rm_select_item_note"&gt;'+(e_item_note ? /* e_item_note.childNodes[0].nodeV=
alue */ e_item_note.innerHTML : '')+'&lt;/span&gt;' + e_item.childNodes[1].=
innerHTML;
		HideElement('fmsi_'+out_eid+'_hint');
		ShowElement('fmsi_'+out_eid+'_hint_set');
//x		ShowElement('fmsi_'+out_eid+'_cancel');
	}
	else if (!FMS_GetFilter(out_eid).length &amp;&amp; document.getElementById=
('fmsi_'+out_eid+'_hint2') &amp;&amp; subitem_e !=3D=3D true) {
		HideElement('fmsi_'+out_eid+'_hint');
		ShowElement('fmsi_'+out_eid+'_hint2');
	}
	ShowElement('fmsi_'+out_eid+'_cancel');  // show if exists
=09
	if (!single &amp;&amp; !text_item) {
		HideElement('fmsi_'+item_eid+(subitem_eid &amp;&amp; subitem_e !=3D=3D tr=
ue ? '_'+subitem_eid : ''));
	}
	if (subitem_eid !=3D=3D true &amp;&amp; !single) {
		var e_item =3D document.getElementById('fmsi_'+item_eid+(subitem_eid ? '_=
'+subitem_eid : ''));
		var e_item_note =3D document.getElementById('fmsi_'+item_eid+(subitem_eid=
 ? '_'+subitem_eid : '')+'_note');
		var chosen_fid =3D 'fmsi_'+item_eid+(subitem_eid ? '_'+subitem_eid : '')+=
'_chosen';
		if (!document.getElementById(chosen_fid)) {
			var e_chosens =3D document.getElementById('fmsi_'+out_eid+'_chosens');
			if (e_chosens) {
				e_chosens.innerHTML +=3D '&lt;div id=3D"'+chosen_fid+'" class=3D"form_s=
elect_subitem"&gt;&lt;input type=3D"checkbox" checked=3D"checked" onchange=
=3D"FMS_DropItem(\''+item_e+'\', \''+item_id+'\''+(subitem_eid ? ', \''+sub=
item_e+'\', \''+subitem_id+'\'' : '')+');" title=3D"odebrat" /&gt;&lt;span =
id=3D"'+chosen_fid+'_note" class=3D"form_select_item_note"&gt;'+(e_item_not=
e ? /* e_item_note.childNodes[0].nodeValue */ e_item_note.innerHTML : '')+'=
&lt;/span&gt;' + e_item.childNodes[1].innerHTML + '&lt;/div&gt;';  //  + '&=
lt;span class=3D"form_select_item_drop" onclick=3D"..."&gt;x&lt;/span&gt;'
				e_chosens.style.display =3D 'block';
			}
		}
	}
=09
/*a	if (item_e =3D=3D 'v' &amp;&amp; item_id &amp;&amp; subitem_e =3D=3D=3D=
 true) {
		var e_hp =3D document.getElementById('td_vyrobce_hp_'+item_id);
		if (e_hp) {
			ElementAddClass(e_hp, 'td_vyrobce_hp_checked');
			var e_hp_cb =3D document.getElementById('td_vyrobce_hp_'+item_id+'_check=
box');
			if (e_hp_cb) {
				e_hp_cb.checked =3D true;
			}
		}
	} */

	if (item_e =3D=3D 'v' /* &amp;&amp; item_id &amp;&amp; !dont_load */) {
		FMS_DropItem('m', false, false, false, true);  // odstrani m a mt (rekurz=
ivne)
	}
	else if (item_e =3D=3D 'm' /* &amp;&amp; item_id &amp;&amp; !dont_load */)=
 {
		FMS_DropItem('mt', false, false, false, true);
	}
=09
	if (subitem_eid) {
		FMS_SetFilter(out_eid, subitem_eid =3D=3D=3D true ? true : subitem_id);
	}
	else {
		if (text_item &amp;&amp; item_id =3D=3D '') {
			FMS_ResetFilter(out_eid);
			HideElement('fmsi_'+out_eid+'_cancel');  // hide if exists
		}
		else {
			FMS_SetFilter(out_eid, item_id);
		}
	}
=09
	if (!dont_load) {
		FMS_Load('a=3Dadd_item,'+item_eid+(subitem_eid &amp;&amp; subitem_eid !=
=3D=3D true ? ','+subitem_eid : ''), false);
	}
=09
	if (text_item) {
		var e_textinput =3D document.getElementById('fmsi_' + out_eid);
		if (e_textinput) {
			if (item_id =3D=3D '') {
				ElementRemoveClass(e_textinput, 'form_textinput_item_active');
			}
			else {
				ElementAddClass(e_textinput, 'form_textinput_item_active');
			}
		}
	}
=09
	return false;
}


function FMS_DropItem(item_e, item_id, subitem_e, subitem_id, dont_load, te=
xt_item) {
	var item_eid =3D item_e + '_' + (item_id ? item_id : '0');
	var subitem_eid =3D (subitem_e =3D=3D=3D true ? true : (subitem_e ? subite=
m_e + '_' + subitem_id : ''));
	var out_eid =3D (subitem_eid /* &amp;&amp; subitem_eid !=3D=3D true */ ? i=
tem_eid : item_e);
=09
	if (!item_id) {
		var f =3D FMS_GetFilter(item_e);
		if (f !=3D=3D false) {
			var f_all =3D f.slice();  // !!! slice() duplicates an array
			if (f_all) {
				for (var i =3D 0; i &lt; f_all.length; i++) {
					FMS_DropItem(item_e, f_all[i], false, false, true);
				}
			}
		}
	}
=09
	if (subitem_eid) {
		FMS_ResetFilter(out_eid, subitem_eid =3D=3D=3D true ? true : subitem_id);
	}
	else {
		FMS_ResetFilter(out_eid, item_id);
	}
=09
=09
	var single =3D false;
	var e_hint_set =3D document.getElementById('fmsi_'+out_eid+'_hint_set');
	HideElement('fmsi_'+out_eid+'_cancel');  // hide if exists
	if (e_hint_set) {
		single =3D true;
//x		HideElement('fmsi_'+out_eid+'_cancel');
		HideElement('fmsi_'+out_eid+'_hint_set');
		ShowElement('fmsi_'+out_eid+'_hint');
	}
	else {
		if (!FMS_GetFilter(out_eid).length &amp;&amp; document.getElementById('fm=
si_'+out_eid+'_hint2')) {
			HideElement('fmsi_'+out_eid+'_hint2');
			ShowElement('fmsi_'+out_eid+'_hint');
		}
	=09
		if (subitem_eid !=3D=3D true) {
			var e_chosen =3D document.getElementById('fmsi_'+item_eid+(subitem_eid ?=
 '_'+subitem_eid : '')+'_chosen');
			if (e_chosen) {
				var e_chosens =3D document.getElementById('fmsi_'+out_eid+'_chosens');
				if (e_chosens) {
					e_chosens.removeChild(e_chosen);
					if (!FMS_GetFilter(out_eid).length) {
						e_chosens.style.display =3D 'none';
					}
				}
			}
		}
		ShowElement('fmsi_'+item_eid+(subitem_eid &amp;&amp; subitem_e !=3D=3D tr=
ue ? '_'+subitem_eid : ''));
	=09
		if (subitem_eid =3D=3D=3D true) {
			var e_box =3D document.getElementById('fmsi_'+item_eid+'_box');
			if (e_box) {
				var e_boxes =3D document.getElementById('fmsi_'+item_e+'_boxes');
				e_boxes.removeChild(e_box);
			}
		}
	}
/*a=09
	if (item_e =3D=3D 'v' &amp;&amp; item_id &amp;&amp; subitem_e =3D=3D=3D tr=
ue) {
		var e_hp =3D document.getElementById('td_vyrobce_hp_'+item_id);
		if (e_hp) {
			ElementRemoveClass(e_hp, 'td_vyrobce_hp_checked');
			var e_hp_cb =3D document.getElementById('td_vyrobce_hp_'+item_id+'_check=
box');
			if (e_hp_cb) {
				e_hp_cb.checked =3D false;
			}
		}
	} */

	if (item_e =3D=3D 'v' /* &amp;&amp; !dont_load */) {
		FMS_DropItem('m', false, false, false, true);  // odstrani m a mt (rekurz=
ivne)
	}
	else if (item_e =3D=3D 'm' /* &amp;&amp; !dont_load */) {
		FMS_DropItem('mt', false, false, false, true);
	}
=09
	if (!dont_load) {
		FMS_Load('a=3Ddrop_item,'+item_eid+(subitem_eid &amp;&amp; subitem_eid !=
=3D=3D true ? ','+subitem_eid : ''), false);
	}
=09
	if (text_item) {
		var e_textinput =3D document.getElementById('fmsi_' + out_eid);
		if (e_textinput) {
			ElementRemoveClass(e_textinput, 'form_textinput_item_active');
		}
	}
=09
	return false;
}

function FMS_Load(params, go_top, dont_change_hash, dont_include_filters) {
/*x	var frd =3D document.getElementById('fmsi_results_disabler');
	if (frd) {
		ShowElement('fmsi_results_disabler');
	}
x*/=09
	var params_all =3D [];
=09
	if (!document.getElementById('global_page_is_homepage') &amp;&amp; !dont_i=
nclude_filters) {
		var e_input =3D document.getElementById('fmsi_nazev');
		if (e_input) {
			var f =3D FMS_GetFilter('nazev');
			if ((f =3D=3D=3D false &amp;&amp; e_input.value !=3D '') || (f !=3D=3D f=
alse &amp;&amp; e_input.value !=3D f)) {
				FMS_ResetFilter('nazev');
				FMS_AddItem('nazev', e_input.value, false, false, true, true);  // nast=
av fulltext input (i) pri zmene jineho filtru
				params_all.push('force_all_counts=3D1');
			}
		}
	}
	=09
	var actual_filters =3D FMS_GetAllFilters();
	if (dont_change_hash !=3D=3D true) {
		fms_disable_next_hashchanged =3D true;
		window.location.hash =3D '#fmsi=3D' + actual_filters + (params !=3D '' ? =
'&amp;'+params : '');
	}
	if (params !=3D '') {
		params_all.push(params);
	}
	if (!dont_include_filters) {
		params_all.push('fmsi=3D'+actual_filters);
	}
	if (document.getElementById('fmsi_results_box')) {
		params_all.push('vo_get_results=3D1');
	}
=09
	AjaxLoad(params_all);
	if (go_top) {
		FMS_GoTop();
	}
	return false;
}

function FMS_GoTop() {
	var gotop_coef =3D 2.1;  // must be grater than 2 !!!
	var actual_scroll =3D GetScrollXY();
	if (actual_scroll[0] &gt; 0 || actual_scroll[1] &gt; 0) {
		var new_scroll_x =3D Math.round(actual_scroll[0] / gotop_coef);
		var new_scroll_y =3D Math.round(actual_scroll[1] / gotop_coef);
		window.scrollTo(new_scroll_x, new_scroll_y);
		if (new_scroll_x &gt; 0 || new_scroll_y &gt; 0) {
			setTimeout("FMS_GoTop();", 25);
		}
	}
	return false;
}

function WindowHashChanged() {
	if (fms_disable_next_hashchanged) {
		fms_disable_next_hashchanged =3D false;
		return;
	}
=09
	var fmsi =3D '';
	if (location.hash !=3D '' &amp;&amp; (hash_regs =3D /(^|&amp;|#)fmsi=3D(.*=
?)($|&amp;)/.exec(location.hash))) {
		fmsi =3D hash_regs[2];
	}
	else if (location.search !=3D '' &amp;&amp; (search_regs =3D /(^|&amp;|\?)=
fmsi=3D(.*?)($|&amp;)/.exec(location.search))) {
		fmsi =3D search_regs[2];
	}
=09
	var vo_id =3D '';
	if (location.hash !=3D '' &amp;&amp; (hash_regs =3D /(^|&amp;|#)vo_id=3D([=
1-9][0-9]*?)($|&amp;)/.exec(location.hash))) {
		vo_id =3D hash_regs[2];
	}
	else if (location.search !=3D '' &amp;&amp; (search_regs =3D /(^|&amp;|\?)=
vo_id=3D([1-9][0-9]*?)($|&amp;)/.exec(location.search))) {
		vo_id =3D search_regs[2];
	}

	var list =3D '';
	if (location.hash !=3D '' &amp;&amp; (hash_regs =3D /(^|&amp;|#)list=3D([1=
-9][0-9]*?)($|&amp;)/.exec(location.hash))) {
		list =3D hash_regs[2];
	}
	else if (location.search !=3D '' &amp;&amp; (search_regs =3D /(^|&amp;|\?)=
list=3D([1-9][0-9]*?)($|&amp;)/.exec(location.search))) {
		list =3D search_regs[2];
	}

	var vo_show_next =3D false;
	if (location.hash !=3D '' &amp;&amp; (hash_regs =3D /(^|&amp;|#)vo_show_ne=
xt=3D([1-9][0-9]*?)($|&amp;)/.exec(location.hash))) {
		vo_show_next =3D true;
	}
	else if (location.search !=3D '' &amp;&amp; (search_regs =3D /(^|&amp;|\?)=
vo_show_next=3D1($|&amp;)/.exec(location.search))) {
		vo_show_next =3D true;
	}

	var vo_show_prev =3D false;
	if (location.hash !=3D '' &amp;&amp; (hash_regs =3D /(^|&amp;|#)vo_show_pr=
ev=3D([1-9][0-9]*?)($|&amp;)/.exec(location.hash))) {
		vo_show_prev =3D true;
	}
	else if (location.search !=3D '' &amp;&amp; (search_regs =3D /(^|&amp;|\?)=
vo_show_prev=3D1($|&amp;)/.exec(location.search))) {
		vo_show_prev =3D true;
	}

//a	alert('loading all boxes');
	FMS_Load('a=3Dget_all_boxes&amp;fmsi=3D' + fmsi + (vo_id !=3D '' ? '&amp;v=
o_id=3D'+vo_id : '') + (list !=3D '' ? '&amp;list=3D'+list : '') + (vo_show=
_next ? '&amp;vo_show_next=3D1' : '') + (vo_show_prev ? '&amp;vo_show_prev=
=3D1' : '') + (document.getElementById('global_page_is_homepage') ? '&amp;p=
age_is_homepage=3D1' : ''), false /*true ... go_top*/, true, true);
}

function FMS_ToggleVyrobceHP(id_vyrobce) {
	if (FMS_GetFilter('v_'+id_vyrobce) !=3D=3D false) {
		FMS_DropItem('v', id_vyrobce, true);
	}
	else {
		FMS_AddItem('v', id_vyrobce, true);
	}
}

function FMS_ShowResults() {
	var actual_filters =3D FMS_GetAllFilters();
	location.href =3D '?s=3Dmain#fmsi=3D'+actual_filters;
	return false;
}

function FMS_ShowDetail(id, list) {
	FMS_Load('vo_id=3D'+id+'&amp;list=3D'+list, true);
	return false;
}

function FMS_GetKeyCode(evt) {
	var e =3D (evt || window.event);
	return (e.which || e.keyCode);
}

function FMS_KeyBody(evt) {
	var kcode =3D FMS_GetKeyCode(evt);
	if (kcode =3D=3D 27) {
		ImageBox.hideDisabler();
		FMS_HideOpenedOptions();
		HideCalendar();
		HideImageMenu();
		if (typeof HideActiveSubbox =3D=3D=3D 'function') {
			HideActiveSubbox();
		}
	}
}

function FMS_ClickBody(evt) {
	FMS_HideOpenedOptions();
}

function FMS_KeyInputNazev(evt) {
	var kcode =3D FMS_GetKeyCode(evt);
	if (kcode =3D=3D 13) {
		var b =3D document.getElementById('fmsi_nazev_button');
		if (b) {
			b.click();
		}
	}
/*x	else {
		FMS_KeyInputNazevChanged();
	} */
}

function FMS_KeyInputNazevChanged() {
	if (document.getElementById('global_page_is_homepage')) {
		var e_input =3D document.getElementById('fmsi_nazev');
		if (e_input &amp;&amp; e_input.value !=3D fms_last_nazev) {
			fms_last_nazev =3D e_input.value;
			fms_update_after_counter =3D Math.round(1000 / stuff_period);  // 1 sec
		}
	}
}

function ProcessFMSStuff() {
	if (document.getElementById('global_page_is_homepage')) {
		var e_input =3D document.getElementById('fmsi_nazev');
		if (e_input) {
			FMS_KeyInputNazevChanged();  // volame opakovane (jistota i pro paste ap=
od.)
			if (fms_update_after_counter &gt; 0) {
				fms_update_after_counter--;
				if (fms_update_after_counter =3D=3D 0) {
					FMS_ResetFilter('nazev');
					FMS_AddItem('nazev', e_input.value, false, false, false, true); // loa=
d new counts
				}
			}
		}
	}
}


///////// FE_

function FE_ItemChanged(e) {
	AjaxLoad( ['fe_item_changed=3D' + e.name + '&amp;' + 'fe_item_changed_val=
=3D' + e.value ] );
}

///////////////

function StopEventPropagation(e) {
	if (e) {
		if (e.stopPropagation) {
			e.stopPropagation();
		}
		e.cancelBubble =3D true;
	}
}

function ElementHasClass(e, c) {
	if (e) {
		return (e.className ? e.className.match(new RegExp('([ ]|^)' + c + '([ ]|=
$)')) : false);
	}
	else {
		return null;
	}
}
=20
function ElementAddClass(e, c) {
	if (e) {
		if (!ElementHasClass(e, c)) {
			e.className +=3D (e.className !=3D '' ? ' ' : '') + c;
		}
	}
}
=20
function ElementRemoveClass(e, c) {
	if (e) {
		if (e.className !=3D '') {
			var res =3D '';
			var e_arr =3D e.className.split(' ');
			for (var i =3D 0; i &lt; e_arr.length; i++) {
				if (e_arr[i] !=3D c &amp;&amp; e_arr[i] !=3D '') {
					res +=3D (res !=3D '' ? ' ' : '') + e_arr[i];
				}
			}
			e.className =3D res;
		}
	}
}

function ElementToggleClass(e, c) {
	if (ElementHasClass(e, c)) {
		ElementRemoveClass(e, c);
	}
	else {
		ElementAddClass(e, c);
	}
	return false;
}


function MouseHintInit() {
	window.onmousemove =3D function (e) {
		if (mouseHintShown) {
			var b =3D document.getElementById('mousehintbox');
			if (b) {
				var pageX =3D e.pageX;
				var pageY =3D e.pageY;
				if (pageX =3D=3D=3D undefined) {
					pageX =3D e.clientX + document.body.scrollLeft + document.documentElem=
ent.scrollLeft;
					pageY =3D e.clientY + document.body.scrollTop + document.documentEleme=
nt.scrollTop;
				}
				if (e.clientX &gt; WinW() / 2) {
					b.style.left =3D 'auto';
					b.style.right =3D (WinW() - e.clientX + 5) + 'px';
				}
				else {
					b.style.left =3D (e.clientX + 10) + 'px';
					b.style.right =3D 'auto';
				}
				b.style.top =3D (e.clientY +  15) + 'px';
			}
		}
	};
}

function MouseHintShow(html) {
	var b =3D document.getElementById('mousehintbox');
	if (b) {
		b.innerHTML =3D html;
		mouseHintShown =3D true;
		ShowElement('mousehintbox', false, true);
	}
}

function MouseHintHide() {
	HideElement('mousehintbox', false, true);
	mouseHintShown =3D false;
}

function ShowDisablerTransfer() {
	ShowElement('disabler_transfer', false, true, fade_delta_in / 4);
}

function HideDisablerTransfer() {
	HideElement('disabler_transfer', false, true, fade_delta_in / 2);
}


function EscapeHTML(htmltext) {
	var char_map =3D {
		'&amp;': '&amp;amp;',
		'&lt;': '&amp;lt;',
		'&gt;': '&amp;gt;',
		'"': '&amp;quot;',
		"'": '&amp;#039;'
	};
	return htmltext.replace(/[&amp;&lt;&gt;"']/g, function(ch) { return char_m=
ap[ch]; });
}

function UnEscapeHTML(htmltext) {
	var char_map =3D {
		'&amp;lt;': '&lt;',
		'&amp;gt;': '&gt;',
		'&amp;quot;': '"',
		'&amp;#039;' : "'",
		'&amp;amp;': '&amp;'
	};
	htmltext =3D htmltext.replace(/&amp;lt;|&amp;gt;|&amp;quot;|&amp;#039;/g, =
function(ch) { return char_map[ch]; });
	htmltext =3D htmltext.replace('&amp;amp;', '&amp;');
	return htmltext;
}

function GetFormInputValue(id_input_name) {
	var e =3D document.getElementById(id_input_name);
	return (e ? EscapeHTML(e.value) : '');
}




///////////////// ADVANCED UPLOAD

		var AdvUpload_last_entered_target =3D null;

		function AdvUpload_OpenFilesDialog(fileinput_id) {
			var e =3D document.getElementById(fileinput_id);
			if (e) {
				e.click();
			}
			return false;
		}
	=09
		function AdvUpload_SetProgressBar(progress_elements_postfix, message_text=
, val) {
			var e_progress_message =3D document.getElementById('progress_message_' +=
 progress_elements_postfix);
			var e_progress_bar =3D document.getElementById('progress_bar_' + progres=
s_elements_postfix);
			var e_progress_bar_text =3D document.getElementById('progress_bar_text_'=
 + progress_elements_postfix);
			if (e_progress_message &amp;&amp; e_progress_bar &amp;&amp; e_progress_b=
ar_text) {
				if (message_text !=3D=3D null) {
					e_progress_message.innerHTML =3D message_text;
				}
				if (val !=3D=3D null) {
					var val_txt =3D '';
					var val_width =3D 0;
					if (val =3D=3D=3D '') {
						// ok
					}
					else if (!val) {
						val_txt =3D '0%';
					}
					else {
						val_width =3D val;
						val_txt =3D val+'%';
					}
					e_progress_bar.style.width =3D val_width+'%';
					e_progress_bar_text.innerText =3D val_txt;
				}
			}
		}
	=09
		function AdvUpload_FileListChanged(fileinput, item_table, item_id, item_c=
olumn) {
			var files =3D fileinput.files;
			for(var i =3D 0; i &lt; files.length; i++) {
				advUpload_uploadList.push([files[i], item_table, item_id, item_column])=
;
			}
			fileinput.value =3D '';
			if (fileinput.value !=3D '') {
				fileinput.parentNode.replaceChild(fileinput.cloneNode(), fileinput);	//=
 pro starsi prohlizece, napr. ie10
			}
			AdvUpload_StartUpload();
		}
	=09
		function AdvUpload_DragOver(e) {
			e.stopPropagation();
			e.preventDefault();
			e.dataTransfer.dropEffect =3D 'copy';
		}
=20
		function AdvUpload_DragEnter(e) {
//w			e.stopPropagation();
			e.preventDefault();
			AdvUpload_last_entered_target =3D e.target;
		=09
			ElementAddClass(e.currentTarget, 'file_upload_drop_area_over');
		}
	=09
		function AdvUpload_DragLeave(e) {
//w			if (e.currentTarget =3D=3D e.target) {
			if (e.target =3D=3D AdvUpload_last_entered_target) {
				ElementRemoveClass(e.currentTarget, 'file_upload_drop_area_over');
			}
		}
	=09
		function AdvUpload_FilesDropped(e /*Q*/ , a_item /*Q*/ ) {
			ElementRemoveClass(e.currentTarget, 'file_upload_drop_area_over');
/*Q
			e.stopPropagation();
			e.preventDefault();
			var a_item =3D new Array('menu', '1', 'fotografie');
Q*/
			var item_table =3D a_item[0];
			var item_id =3D a_item[1];
			var item_column =3D a_item[2];
//Q			alert('inside AdvUpload_FilesDropped(): '+e+"\r\n"+item_table+"\r\n"+=
item_id+"\r\n"+item_column);
			var files =3D e.dataTransfer.files;
			for (var i =3D 0; i &lt; files.length; i++) {
				advUpload_uploadList.push([files[i], item_table, item_id, item_column])=
;
			}
			AdvUpload_StartUpload();
		}
=20
		function AdvUpload_StartUpload() {
			if (!advUpload_justUploading) {
				var e_prog_top_text =3D document.getElementById('progresses_top_text');
				ElementRemoveClass(e_prog_top_text, 'progresses_top_text_finished');
				ShowElement('progresses_top_text', false, true);
				AdvUpload_UploadNext();
			}
		}
	=09
		function AdvUpload_UploadNext() {
			var e_prog_top_text =3D document.getElementById('progresses_top_text');
			if (advUpload_uploadList.length) {
				advUpload_justUploading =3D true;
				if (e_prog_top_text) {
					e_prog_top_text.innerHTML =3D 'Prob=C3=ADh=C3=A1 odes=C3=ADl=C3=A1n=C3=
=AD dat.&lt;br/&gt;Zb=C3=BDv=C3=A1 soubor=C5=AF: &lt;b&gt;'+advUpload_uploa=
dList.length+'&lt;/b&gt;';
				}
				var upitem =3D advUpload_uploadList.shift()
				AdvUpload_ResizeAndDoUpload(upitem[0], upitem[1], upitem[2], upitem[3])=
;
			}
			else {
				advUpload_justUploading =3D false;
				if (e_prog_top_text) {
					e_prog_top_text.innerHTML =3D '&lt;span class=3D"zelene_pismo"&gt;P=C5=
=99enos dat ukon=C4=8Den.&lt;/span&gt;';
				}
				ElementAddClass(e_prog_top_text, 'progresses_top_text_finished');
				setTimeout("AdvUpload_StopUpload();", 5000);
			}
		}
=20
		function AdvUpload_StopUpload() {
			if (!advUpload_justUploading) {
				HideElement('progresses_top_text', false, true);
			}
		}
	=09
		function AdvUpload_ResizeAndDoUpload(file, item_table, item_id, item_colu=
mn) {
//-			alert(file+', '+item_table+', '+item_id+', '+item_column);
			var file_type =3D (000 &amp;&amp; file.type.match('image/(jpeg|png|gif)$=
') ? 'image' : 'file');  ///// 000 - zde zakazano, nechceme zmensovat ani p=
revadet png na jpeg atp.
//-			console.log('UPLOADING ' + file.name);
			var progress_elements_postfix =3D item_table + '_' + item_id + '_' + ite=
m_column + '_' + (++advUpload_progressBoxCounter);
			var progress_elements_short_postfix =3D item_table + '_' + item_id + '_'=
 + item_column;
		=09
//x			var e_progresses =3D document.getElementById('progresses_' + progress=
_elements_short_postfix);
			ShowElement('progresses_' + progress_elements_short_postfix , 'inline-bl=
ock');
			var e_progresses_inner =3D document.getElementById('progresses_inner_' +=
 progress_elements_short_postfix);
			e_progresses_inner.innerHTML =3D '&lt;div class=3D"progress_container"&g=
t;&lt;div id=3D"progress_thumbnail_' + progress_elements_postfix + '" class=
=3D"progress_thumbnail"&gt;&lt;/div&gt;&lt;div class=3D"progress_filename"&=
gt;Odes=C3=ADl=C3=A1n=C3=AD &lt;b&gt;'+EscapeHTML(file.name)+'&lt;/b&gt;&lt=
;/div&gt;&lt;div id=3D"progress_message_' + progress_elements_postfix + '" =
class=3D"progress_message"&gt;&lt;/div&gt;&lt;div class=3D"progress_bar_out=
er"&gt;&lt;div id=3D"progress_bar_text_' + progress_elements_postfix + '" c=
lass=3D"progress_bar_text"&gt;&lt;/div&gt;&lt;div id=3D"progress_bar_' + pr=
ogress_elements_postfix + '" class=3D"progress_bar"&gt;&lt;/div&gt;&lt;/div=
&gt;&lt;div class=3D"progress_container_bottom"&gt;&lt;/div&gt;&lt;/div&gt;=
' + e_progresses_inner.innerHTML;
		=09
			if (file_type =3D=3D 'image') {
				AdvUpload_SetProgressBar(progress_elements_postfix, 'Zpracov=C3=A1v=C3=
=A1m obr=C3=A1zek...', 0);
			=09
				var o_img =3D new Image();  // document.createElement("img");
			=09
				o_img.onerror =3D function() {
					AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=3D=
"cervene_pismo"&gt;B=C4=9Bhem pr=C3=A1ce s obr=C3=A1zkem nastala chyba - z=
=C5=99ejm=C4=9B nezn=C3=A1m=C3=BD form=C3=A1t.&lt;/span&gt;', null);
					AdvUpload_UploadNext();  // ?! na localhostu se pri onerror pusti i on=
load
				}
				o_img.onabort =3D function() {
					AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=3D=
"cervene_pismo"&gt;B=C4=9Bhem pr=C3=A1ce s obr=C3=A1zkem nastala chyba - p=
=C5=99enos p=C5=99eru=C5=A1en.&lt;/span&gt;', null);
					AdvUpload_UploadNext();  // ?!
				}
				o_img.onload =3D function() {
					window.URL.revokeObjectURL(o_img.src);
				=09
					var img_width_max =3D Math.min(10000, o_img.width);
					var img_height_max =3D Math.min(10000, o_img.height);
					var img_width =3D img_width_max;
					var img_height =3D img_height_max;
				=09
					if (img_width &gt; 0 &amp;&amp; img_height &gt; 0) {
						var img_ratio_orig =3D o_img.width / o_img.height;
					=09
						if (img_width / img_height &gt; img_ratio_orig) {
						   img_width =3D Math.round(img_height * img_ratio_orig);
						}
						else {
						   img_height =3D Math.round(img_width / img_ratio_orig);
						}
					=09
						if (img_width &gt; 0 &amp;&amp; img_height &gt; 0) {
							var canvas =3D document.createElement('canvas');
							canvas.width =3D img_width;
							canvas.height =3D img_height;
							var ctx =3D canvas.getContext("2d");
							ctx.fillStyle=3D"#FFFFFF";
							ctx.fillRect(0, 0, img_width, img_height);				// at je prip. pruhled=
nost bila
							ctx.drawImage(o_img, 0, 0, img_width, img_height);
							var dataURL =3D canvas.toDataURL("image/jpeg");
						=09
							var o_thumb =3D document.getElementById('progress_thumbnail_' + prog=
ress_elements_postfix);
							if (o_thumb) {
								var img_width_thumb =3D 75;
								var img_height_thumb =3D Math.max(1, Math.round(75 / img_ratio_orig=
));
								var canvas_thumb =3D document.createElement('canvas');
								canvas_thumb.width =3D img_width_thumb;
								canvas_thumb.height =3D img_height_thumb;
								var ctx_thumb =3D canvas_thumb.getContext("2d");
								ctx_thumb.fillStyle=3D"#FFFFFF";
								ctx_thumb.fillRect(0, 0, img_width_thumb, img_height_thumb);				// =
at je prip. pruhlednost bila
								ctx_thumb.drawImage(o_img, 0, 0, img_width_thumb, img_height_thumb)=
;
								var dataURL_thumb =3D canvas_thumb.toDataURL("image/jpeg");
								var o_img_thumb =3D new Image();  // document.createElement("img");
								o_img_thumb.src =3D dataURL_thumb;
								o_thumb.appendChild(o_img_thumb);
							}
						=09
							AdvUpload_SetProgressBar(progress_elements_postfix, 'Odes=C3=ADl=C3=
=A1m data na server...', 0);
						=09
							var xhr =3D new XMLHttpRequest();
							xhr.onreadystatechange =3D function(e) {
								if (xhr.readyState =3D=3D 4) {
									if (xhr.status =3D=3D 200) {
										AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span cla=
ss=3D"zelene_pismo"&gt;=C3=9Asp=C4=9B=C5=A1n=C4=9B odesl=C3=A1no.&lt;/span&=
gt;', 100);
										var e_progress_results =3D document.getElementById('progress_resu=
lts_' + progress_elements_short_postfix);
										var x_pr =3D xhr.responseXML.documentElement.getElementsByTagName=
('progress_results');
										if (e_progress_results &amp;&amp; x_pr.length &gt; 0 &amp;&amp; x=
_pr[0].firstChild) {
											e_progress_results.innerHTML =3D GetSerializedXml(x_pr[0].firstC=
hild);
											ImageBox.createAll('progress_results_' + progress_elements_short=
_postfix);
										}
										AddAjaxLogs(xhr);
									}
									else {
										AddAjaxLog('Nastala chyba p=C5=99i komunikaci se serverem - statu=
s '+xhr.status+'.');
									}
									AdvUpload_UploadNext();
								}
							};
							xhr.upload.addEventListener('progress', function(e) {
								if (e.lengthComputable) {
									var perc =3D Math.round(100.0 * e.loaded / e.total);
									AdvUpload_SetProgressBar(progress_elements_postfix, null, perc);
								}
							});
						=09
							var e_prv =3D document.getElementById('progress_results_view_' + pro=
gress_elements_short_postfix);
						=09
							xhr.open('POST', './', true);
							xhr.setRequestHeader("Content-type","application/x-www-form-urlencod=
ed");
							var data =3D 's=3Dajax&amp;uploading_file=3D1&amp;table=3D'+item_tab=
le+'&amp;id=3D'+item_id+'&amp;column=3D'+item_column+(e_prv &amp;&amp; e_pr=
v.value !=3D '' ? '&amp;result_view=3D'+encodeURIComponent(e_prv.value) : '=
')+'&amp;filename_orig=3D'+encodeURIComponent(file.name)+'&amp;file_data=3D=
' + dataURL;
							xhr.send(data);
						}
						else {
							AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=
=3D"cervene_pismo"&gt;Obr=C3=A1zek m=C3=A1 po zmen=C5=A1en=C3=AD nulovou ve=
likost.&lt;/span&gt;', '');
							AdvUpload_UploadNext();
						}
					}
					else {
						AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=
=3D"cervene_pismo"&gt;Obr=C3=A1zek m=C3=A1 nulovou velikost nebo nen=C3=AD =
obr=C3=A1zkem.&lt;/span&gt;', '');
						AdvUpload_UploadNext();
					}
				}
				o_img.src =3D window.URL.createObjectURL(file);
			}=09
			else if (file_type =3D=3D 'file') {
				AdvUpload_SetProgressBar(progress_elements_postfix, 'Odes=C3=ADl=C3=A1m=
 data na server...', 0);

				var e_prv =3D document.getElementById('progress_results_view_' + progre=
ss_elements_short_postfix);
// /*FD XXX			=09
				var fd =3D new FormData();
				fd.append('s', 'ajax');
				fd.append('uploading_file', '1');
				fd.append('table', item_table);
				fd.append('id', item_id);
				fd.append('column', item_column);
				if (e_prv &amp;&amp; e_prv.value !=3D '') {
					fd.append('result_view', e_prv.value);  //? encodeURIComponent
				}
//-				fd.append('filename_orig', file.name);  //? encodeURIComponent
				fd.append('edit_'+item_table+'_'+item_column+'_1', file, file.name);

				var xhr =3D new XMLHttpRequest();
				xhr.onreadystatechange =3D function(e) {
					if (xhr.readyState =3D=3D 4) {
						if (xhr.status =3D=3D 200) {
							AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=
=3D"zelene_pismo"&gt;=C3=9Asp=C4=9B=C5=A1n=C4=9B odesl=C3=A1no.&lt;/span&gt=
;', 100);
							var e_progress_results =3D document.getElementById('progress_results=
_' + progress_elements_short_postfix);
							if (xhr.responseXML) {
								var x_pr =3D xhr.responseXML.documentElement.getElementsByTagName('=
progress_results');
								if (e_progress_results &amp;&amp; x_pr.length &gt; 0 &amp;&amp; x_p=
r[0].firstChild) {
									e_progress_results.innerHTML =3D GetSerializedXml(x_pr[0].firstChi=
ld);
									ImageBox.createAll('progress_results_' + progress_elements_short_p=
ostfix);
								}
								AddAjaxLogs(xhr);
							}
							else {
								AddAjaxLog('Vr=C3=A1ceno neXML.');
							}
						}
						else {
							AddAjaxLog('Nastala chyba p=C5=99i komunikaci se serverem - status '=
+xhr.status+'.');
						}
						AdvUpload_UploadNext();
					}
				};
				xhr.upload.addEventListener('progress', function(e) {
					if (e.lengthComputable) {
						var perc =3D Math.round(100.0 * e.loaded / e.total);
						AdvUpload_SetProgressBar(progress_elements_postfix, null, perc);
					}
				});
			=09
			=09
				xhr.open('POST', './' , true);
//+				.............................
//-				xhr.setRequestHeader("Content-type","multipart/form-data");
//-				xhr.setRequestHeader("Content-type","application/x-www-form-urlencod=
ed");
//-				var data =3D 's=3Dajax&amp;uploading_file=3D1&amp;table=3D'+item_tab=
le+'&amp;id=3D'+item_id+'&amp;column=3D'+item_column+(e_prv &amp;&amp; e_pr=
v.value !=3D '' ? '&amp;result_view=3D'+encodeURIComponent(e_prv.value) : '=
')+'&amp;filename_orig=3D'+encodeURIComponent(file.name)+'&amp;file_data=3D=
' + dataURL;
				xhr.send(fd);
// XXX FD*/

/*RDR YYY
				var reader =3D new FileReader();
				reader.readAsDataURL(file);
				reader.onload =3D function () {
					var xhr =3D new XMLHttpRequest();
					xhr.onreadystatechange =3D function(e) {
						if (xhr.readyState =3D=3D 4) {
							if (xhr.status =3D=3D 200) {
								AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=
=3D"zelene_pismo"&gt;=C3=9Asp=C4=9B=C5=A1n=C4=9B odesl=C3=A1no.&lt;/span&gt=
;', 100);
								var e_progress_results =3D document.getElementById('progress_result=
s_' + progress_elements_short_postfix);
								if (xhr.responseXML) {
									var x_pr =3D xhr.responseXML.documentElement.getElementsByTagName(=
'progress_results');
									if (e_progress_results &amp;&amp; x_pr.length &gt; 0 &amp;&amp; x_=
pr[0].firstChild) {
										e_progress_results.innerHTML =3D GetSerializedXml(x_pr[0].firstCh=
ild);
										ImageBox.createAll('progress_results_' + progress_elements_short_=
postfix);
									}
									AddAjaxLogs(xhr);
								}
								else {
									AddAjaxLog('Vr=C3=A1ceno neXML.');
								}
							}
							else {
								AddAjaxLog('Nastala chyba p=C5=99i komunikaci se serverem - status =
'+xhr.status+'.');
							}
							AdvUpload_UploadNext();
						}
					};
					xhr.upload.addEventListener('progress', function(e) {
						if (e.lengthComputable) {
							var perc =3D Math.round(100.0 * e.loaded / e.total);
							AdvUpload_SetProgressBar(progress_elements_postfix, null, perc);
						}
					});
				=09
					xhr.open('POST', './' , true);
					xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded=
");
					var data =3D 's=3Dajax&amp;uploading_file=3D1&amp;table=3D'+item_table=
+'&amp;id=3D'+item_id+'&amp;column=3D'+item_column+(e_prv &amp;&amp; e_prv.=
value !=3D '' ? '&amp;result_view=3D'+encodeURIComponent(e_prv.value) : '')=
+'&amp;filename_orig=3D'+encodeURIComponent(file.name)+'&amp;edit_'+item_ta=
ble+'_'+item_column+'_1=3D' + encodeURIComponent(reader.result);
					xhr.send(data);
				};
				reader.onerror =3D function() {
					AdvUpload_SetProgressBar(progress_elements_postfix, '&lt;span class=3D=
"cervene_pismo"&gt;B=C4=9Bhem pr=C3=A1ce se souborem nastala chyba - z=C5=
=99ejm=C4=9B chybn=C3=BD soubor.&lt;/span&gt;', null);
					AdvUpload_UploadNext();  // ?! na localhostu se pri onerror pusti i on=
load
				};
			=09
YYY RDR*/
			=09
			}  // file_type =3D=3D 'file'
		=09
		}
	=09
	=09
	=09
		function AdvUpload_ChangeImagePosition(item_table, item_id, direction, pr=
ogress_results_element, disk_id_adresar) {
			var xhr =3D new XMLHttpRequest();
			xhr.onreadystatechange =3D function(e) {
				if (xhr.readyState =3D=3D 4) {
					if (xhr.status =3D=3D 200) {
						if (disk_id_adresar) {
							var x_pr =3D xhr.responseXML.documentElement.getElementsByTagName('p=
rogress_results');
							if (x_pr &amp;&amp; x_pr[0] &amp;&amp; x_pr[0].getAttribute('disk_id=
_adresar') !=3D=3D null) {
								location.href =3D '?s=3Ddisk&amp;id_adresar=3D' + x_pr[0].getAttrib=
ute('disk_id_adresar');
							}
						}
						else {
							var e_progress_results =3D document.getElementById(progress_results_=
element);
							var x_pr =3D xhr.responseXML.documentElement.getElementsByTagName('p=
rogress_results');
							if (e_progress_results &amp;&amp; x_pr &amp;&amp; x_pr[0]) {
								e_progress_results.innerHTML =3D GetSerializedXml(x_pr[0].firstChil=
d);
								ImageBox.createAll(progress_results_element);
							}
						}
						AddAjaxLogs(xhr);
					}
					else {
						AddAjaxLog('Nastala chyba p=C5=99i komunikaci se serverem - status '+=
xhr.status+'.');
					}
				}
			};
		=09
			xhr.open('POST', './', true);
			xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")=
;
			var data =3D 's=3Dajax&amp;change_item_position=3D1&amp;table=3D'+item_t=
able+'&amp;id=3D'+item_id+'&amp;direction=3D'+encodeURIComponent(direction)=
+(disk_id_adresar ? '&amp;disk_id_adresar=3D'+disk_id_adresar : '');
			xhr.send(data);
		=09
			return false;
		}
	=09
///////////////// end of ADVANCED UPLOAD



///////////////// SCROLL FADERS ////////////////////////////////////

function PushOrChangeScrollFader(eid, eid2) {
	var e =3D document.getElementById(eid);
	var e2 =3D document.getElementById(eid2);
	if (!e || !e2) {
		return;
	}
	var e_rect =3D e.getBoundingClientRect();
	var e2_rect =3D e2.getBoundingClientRect();
//x	var params =3D [e.scrollLeft, e.scrollTop, e2_rect.left - e_rect.left, =
Math.max(0, Math.min(e.scrollHeight - e.clientHeight, e.scrollTop - (e_rect=
.top + e.clientHeight / 2 - e2_rect.top)))];
	var params =3D [e.scrollLeft, e.scrollTop, e2_rect.left - e_rect.left, Mat=
h.max(0, Math.min(e.scrollHeight - e.clientHeight, e.scrollTop - (e_rect.to=
p - e2_rect.top)))];
=09
	var default_fade_delta =3D 0.05;
	var idx =3D -1;
	for (var i =3D 0; i &lt; scfaders.length; i++) {
		if (scfaders[i][0] =3D=3D eid) {
			scfaders[i][1] =3D 0;
			scfaders[i][2] =3D default_fade_delta;
			scfaders[i][3] =3D params;
			idx =3D i;
			break;
		}
	}
	if (idx &lt; 0) {
		scfaders.push([eid, 0, default_fade_delta, params]);
	}
}

// scfaders[i][0] .. eid
// scfaders[i][1] .. fade_step
// scfaders[i][2] .. fade_delta   // &gt;=3D 0
// scfaders[i][3][0] .. scroll_start_x
// scfaders[i][3][1] .. scroll_start_y
// scfaders[i][3][2] .. scroll_target_x
// scfaders[i][3][3] .. scroll_target_y

function ProcessScrollFaders() {
	for (var i =3D 0; i &lt; scfaders.length; i++) {
		if (scfaders[i][2] =3D=3D 0) {
			continue;
		}
		var e =3D document.getElementById(scfaders[i][0]);
		if (!e) {
			continue;
		}
	=09
		var e_op =3D scfaders[i][1];
		var e_d =3D scfaders[i][2];

		if (e_d &gt; 0 &amp;&amp; e_op + e_d &gt;=3D 1) {
			scfaders[i][1] =3D 1;
			scfaders[i][2] =3D 0;
			// popr. reset ostatnich
		}
		else {
			scfaders[i][1] =3D e_op + e_d;
		}
		e.scrollLeft =3D Math.round(scfaders[i][3][0] + (1 - Math.cos(Math.pow(sc=
faders[i][1], 0.5) * Math.PI)) / 2 * (scfaders[i][3][2] - scfaders[i][3][0]=
));
		e.scrollTop =3D Math.round(scfaders[i][3][1] + (1 - Math.cos(Math.pow(scf=
aders[i][1], 0.5) * Math.PI)) / 2 * (scfaders[i][3][3] - scfaders[i][3][1])=
);
	}
}

/////////////////


function DocumentScrollTo(new_x, new_y) {
	if (typeof(new_x) !=3D "undefined" &amp;&amp; typeof(new_y) !=3D "undefine=
d") {
		document_scroll_to_x =3D Math.round(Math.min(new_x, DocW() - WinW()));
		document_scroll_to_y =3D Math.round(Math.min(new_y, DocH() - WinH()));
	}
=09
	var actual_scroll =3D GetScrollXY();
//	if (actual_scroll[0] !=3D document_scroll_to_x || actual_scroll[1] !=3D =
document_scroll_to_y) {
		var new_scroll_x =3D Math.round(document_scroll_to_x + (actual_scroll[0] =
- document_scroll_to_x) / document_scroll_to_coef);
		var new_scroll_y =3D Math.round(document_scroll_to_y + (actual_scroll[1] =
- document_scroll_to_y) / document_scroll_to_coef);
		window.scrollTo(new_scroll_x, new_scroll_y);
		var new_scroll =3D GetScrollXY();
		if (new_scroll[0] !=3D actual_scroll[0] || new_scroll[1] !=3D actual_scro=
ll[1]) {
			setTimeout("DocumentScrollTo();", 25);
		}
//	}
	return false;
}

function DocumentScrollToElement(e_id) {
	var e =3D document.getElementById(e_id);
	if (e) {
		var bodyRect =3D document.body.getBoundingClientRect();
		DocumentScrollTo(0, e.getBoundingClientRect().top - bodyRect.top);
	}
	return false;
}



///////////////// CALENDAR
function ShowCalendar(aform, aninput, atype) {
	if (document.forms[aform] &amp;&amp; document.forms[aform][aninput]) {
		calendar_act_type =3D atype;
		calendar_act_input_element =3D document.forms[aform][aninput];
		ShowElement('calendar_box', false, true);
		RefreshCalendar();
	}
	return false;
}

function CalendarGoToPg(pg) {
	if (calendar_act_pg) {
		ElementRemoveClass(document.getElementById('calendar_box_pg_' + calendar_=
act_pg), 'calendar_box_pg_active');
	}
	calendar_act_pg =3D pg;
	if (calendar_act_pg) {
		ElementAddClass(document.getElementById('calendar_box_pg_' + calendar_act=
_pg), 'calendar_box_pg_active');
		RedrawCalendar();
	}
}

function RefreshCalendar() {
	if (!calendar_act_input_element) {
		return;
	}
=09
	var o_datum =3D null;
	var temp_found =3D false;

	calendar_chosen_year =3D null;
	calendar_chosen_month =3D null;
	calendar_chosen_day =3D null;

	var datum_regs =3D /^[^0-9]*([0-9]{1,2})[^0-9]+([0-9]{1,2})[^0-9]+([0-9]{4=
})/.exec(calendar_act_input_element.value + '');
	if (datum_regs) {
		var year =3D parseInt(datum_regs[3]);
		var month =3D parseInt(datum_regs[2]);
		var day =3D parseInt(datum_regs[1]);
		if (day &gt;=3D 1 &amp;&amp; day &lt;=3D 31 &amp;&amp; month &gt;=3D 1 &a=
mp;&amp; month &lt;=3D 12) {
			o_datum =3D new Date(year, month - 1, day);
			calendar_chosen_year =3D o_datum.getFullYear();  // muze dojit napr. k p=
repsani 29.2. na 1.3. apod., proto se data tahaji radeji z objektu
			calendar_chosen_month =3D o_datum.getMonth() + 1;
			calendar_chosen_day =3D o_datum.getDate();

			calendar_act_year =3D calendar_chosen_year;
			calendar_act_month =3D calendar_chosen_month;
			temp_found =3D true;
			CalendarGoToPg(1);
		}
	}
	else {
		var datum_regs =3D /^[^0-9]*([0-9]{1,2})[^0-9]+([0-9]{4})/.exec(calendar_=
act_input_element.value + '');
		if (datum_regs) {
			var year =3D parseInt(datum_regs[2]);
			var month =3D parseInt(datum_regs[1]);
			if (month &gt;=3D 1 &amp;&amp; month &lt;=3D 12) {
				calendar_chosen_year =3D year;
				calendar_chosen_month =3D month;
				calendar_chosen_day =3D null;

				calendar_act_year =3D calendar_chosen_year;
				calendar_act_month =3D calendar_chosen_month;
				temp_found =3D true;
				CalendarGoToPg(2);
			}
		}
		else {
			var datum_regs =3D /^[^0-9]*([0-9]{4})/.exec(calendar_act_input_element.=
value + '');
			if (datum_regs) {
				calendar_chosen_year =3D parseInt(datum_regs[1]);
				calendar_chosen_month =3D null;
				calendar_chosen_day =3D null;

				calendar_act_year =3D calendar_chosen_year;
				calendar_act_month =3D calendar_chosen_month;
				temp_found =3D true;
				CalendarGoToPg(3);
			}
		}
	}

	if (!temp_found) {
		if (!calendar_act_year || !calendar_act_month) {
			o_datum =3D new Date();
			calendar_act_year =3D o_datum.getFullYear();
			calendar_act_month =3D o_datum.getMonth() + 1;
		}
		CalendarGoToPg(1);
	}
=09
	RedrawCalendar();
=09
	var calbox =3D document.getElementById('calendar_box');
	var input_rect =3D calendar_act_input_element.getBoundingClientRect();
	var body_rect =3D document.body.getBoundingClientRect();
=09
	if (input_rect.top &gt; WinH() / 2) {
		calbox.style.top =3D 'auto';
		calbox.style.bottom =3D (body_rect.bottom - input_rect.top) + 'px';
	}
	else {
		calbox.style.bottom =3D 'auto';
		calbox.style.top =3D (input_rect.bottom - body_rect.top) + 'px';
	}
	calbox.style.left =3D (input_rect.left - body_rect.left) + 'px';
}

function CalendarInputChanged() {
	RefreshCalendar();
}

function HideCalendar() {
//x	CalendarGoToPg(0);
	HideElement('calendar_box', false, true);
	return false;
}

function ToggleCalendar(aform, aninput) {
	if (document.getElementById('calendar_box').style.display =3D=3D 'none') {
		ShowCalendar(aform, aninput);
	}
	else {
		HideCalendar();
	}
	return false;
}

function RedrawCalendar() {
	var e =3D null;
	var i =3D 0;

	if (calendar_act_year) {
		e =3D document.getElementById('calendar_year');
		if (e) {
			e.innerText =3D calendar_act_year;
		}
	}
=09
	if (calendar_act_pg =3D=3D 3) {
		var temp_roky =3D document.getElementById('calendar_years_list').value.sp=
lit(',');
		for (i =3D 0; i &lt; temp_roky.length; i++) {
			e =3D document.getElementById('calendar_3_td_' + temp_roky[i]);
			if (temp_roky[i] =3D=3D calendar_chosen_year) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
		}
	}
	else if (calendar_act_pg =3D=3D 2) {
		for (i =3D 1; i &lt;=3D 12; i++) {
			e =3D document.getElementById('calendar_2_td_' + i);
			if (i =3D=3D calendar_chosen_month &amp;&amp; calendar_act_year =3D=3D c=
alendar_chosen_year) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
		}
	}
	else if (calendar_act_year &amp;&amp; calendar_act_month) {
		var o_datum =3D new Date(calendar_act_year, calendar_act_month - 1, 1, 0,=
 0, 0, 0);
		var offset =3D o_datum.getDay();
		offset =3D (offset &lt; 1 ? 6 : offset - 1);
	=09
		for (; i &lt; offset; i++) {
			e =3D document.getElementById('calendar_td_' + i);
			e.innerText =3D '';
			ElementRemoveClass(e, 'calendar_td_selected');
			ElementRemoveClass(e, 'calendar_td_active');
			ElementAddClass(e, 'calendar_td_empty');
		}
		var d =3D 1;
		var o_dnes =3D new Date();
		o_dnes.setHours(0);
		o_dnes.setMinutes(0);
		o_dnes.setSeconds(0);
		o_dnes.setMilliseconds(0);
		while (o_datum.getMonth() + 1 =3D=3D calendar_act_month) {
			e =3D document.getElementById('calendar_td_' + i);
			ElementRemoveClass(e, 'calendar_td_empty');
			e.innerText =3D d;
			if (111 || o_datum.getTime() &gt;=3D o_dnes.getTime()) {
				ElementAddClass(e, 'calendar_td_active');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_active');
			}
			if (d =3D=3D calendar_chosen_day &amp;&amp; calendar_act_month =3D=3D ca=
lendar_chosen_month &amp;&amp; calendar_act_year =3D=3D calendar_chosen_yea=
r) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
			i++;
			d++;
			o_datum.setDate(d);
		}
		for (; i &lt; calendar_rows * calendar_cols; i++) {
			e =3D document.getElementById('calendar_td_' + i);
			e.innerText =3D '';
			ElementRemoveClass(e, 'calendar_td_selected');
			ElementRemoveClass(e, 'calendar_td_active');
			ElementAddClass(e, 'calendar_td_empty');
		}
		PushOrChangeScrollFader('calendar_months', 'calendar_month_' + calendar_a=
ct_month);
	}
}

function CalendarClick(e) {
	if (ElementHasClass(e, 'calendar_td_active')) {
		calendar_act_input_element.value =3D e.innerText + '. ' + calendar_act_mo=
nth + '. ' + calendar_act_year;
		HideCalendar();
//x		CPSubmitForm();
	}
}

function CalendarClickMonth(e) {
	calendar_act_input_element.value =3D calendar_act_month + '. ' + calendar_=
act_year;
	HideCalendar();
//x	CPSubmitForm();
}

function CalendarClickYear(e) {
	calendar_act_input_element.value =3D '' + calendar_act_year;
	HideCalendar();
//x	CPSubmitForm();
}

function CalendarSetMonth(amonth) {
	calendar_act_month =3D amonth;
	RedrawCalendar();
}

function CalendarSetYear(ayear) {
	calendar_act_year =3D ayear;
	RedrawCalendar();
}

function CalendarIncrementMonth() {
	calendar_act_month++;
	if (calendar_act_month &gt; 12) {
		calendar_act_month =3D 1;
		calendar_act_year++;
	}
	RedrawCalendar();
}

function CalendarDecrementMonth() {
	calendar_act_month--;
	if (calendar_act_month &lt; 1) {
		calendar_act_month =3D 12;
		calendar_act_year--;
	}
	RedrawCalendar();
}

function CheckAllCheckboxes(aform, prefix, count_max) {
	for (var i =3D 1; i &lt;=3D count_max; i++) {
		document.forms[aform][prefix + i].checked =3D true;
	}
	return false;
}
function CheckNoneCheckboxes(aform, prefix, count_max) {
	for (var i =3D 1; i &lt;=3D count_max; i++) {
		document.forms[aform][prefix + i].checked =3D false;
	}
	return false;
}


function js_CopyElementHTMLToClipboard(ev, e_name) {
	var e_dbox =3D document.getElementById(e_name + '_display_box');
	if (e_dbox) {
		e_dbox.style.display =3D 'block';
	}
	var e_sbox =3D document.getElementById(e_name + '_status_box');
	if (e_sbox) {
		e_sbox.style.display =3D 'block';
	}
	var e =3D document.getElementById(e_name);
	var range =3D document.createRange();
	range.selectNode(e);
	window.getSelection().addRange(range);

	var result =3D true;
	try {
		result =3D document.execCommand('copy');
	} catch(err) {
		result =3D false;
	}
=09
	if (!result) {
		alert('Chyba: V=C3=A1=C5=A1 prohl=C3=AD=C5=BEe=C4=8D z=C5=99ejm=C4=9B nep=
odporuje funkci kop=C3=ADrov=C3=A1n=C3=AD HTML do schr=C3=A1nky.');
	}

	window.getSelection().removeAllRanges();
=09
	if (e_dbox) {
		e_dbox.style.display =3D 'none';
	}
}

function js_CopyWDTableToClipboard(ev, e_name) {
/*	setTimeout("js_CopyWDTableToClipboardProcess('"+e_name+"');", 10);
}
=09
function js_CopyWDTableToClipboardProcess(e_name) { */
	var tb =3D document.getElementById(e_name);
	if (!tb.hasChildNodes()) {
		return;
	}

	var trs =3D null;
	if (tb.childNodes[0].nodeName =3D=3D 'TR') {
		trs =3D tb.childNodes;
	}
	else if (tb.childNodes[0].nodeName =3D=3D 'TBODY') {
		trs =3D tb.childNodes[0].childNodes;
	}
	else if (tb.childNodes[1].nodeName =3D=3D 'TBODY') {
		trs =3D tb.childNodes[1].childNodes;
	}
	if (!trs) {
		return;
	}
=09
	var tbex =3D document.createElement('table');
	var tbex_tbody =3D document.createElement('tbody');
	var head_exported =3D false;
=09
	for (var i =3D 0; i &lt; trs.length; i++) {
		if (ElementHasClass(trs[i], 'tr_default')) {
			var tds =3D trs[i].childNodes;
			var trex =3D document.createElement('tr');
			for (var j =3D 0; j &lt; tds.length; j++) {
				if (!ElementHasClass(tds[j], 'icons')) {
					var tdex =3D document.createElement('td');
					if (tds[j].hasChildNodes() &amp;&amp; ElementHasClass(tds[j].firstChil=
d, 'export_data_text')) {
						tdex.innerText =3D tds[j].firstChild.innerText;
					}
					else {
						tdex.innerText =3D tds[j].innerText;
					}

					var st =3D [];  // style array
					if (ElementHasClass(tds[j], 'center')) {
						st.push("text-align: center;");
					}
					else if (ElementHasClass(tds[j], 'right')) {
						st.push("text-align: right;");
					}
					if (ElementHasClass(tds[j], 'bold')) {
						st.push("font-weight: bold;");
					}
					if (st.length &gt; 0) {
						tdex.setAttribute("style", st.join(' '));
					}
				=09
					trex.appendChild(tdex);
				}
			}
			tbex_tbody.appendChild(trex);
		=09
			if (!head_exported) {  // muze byt vice radku hlavicky, proto zde
				head_exported =3D true;
			}
		}
		else if (!head_exported) {  // pocitame s tim, ze tabulka zacina hlavicko=
u
			var trex =3D trs[i].cloneNode(true);
			if (i =3D=3D 0) {
				trex.removeChild(trex.firstChild);  // remove th icons
			}
			var tds =3D trex.childNodes;
			for (var j =3D 0; j &lt; tds.length; j++) {
				tds[j].innerText =3D tds[j].innerText;
/*+				if (ElementHasClass(tds[j], 'th_rotated')) {
					tds[j].setAttribute("style", "transform: rotate(-90deg);");
				} */
			}
			tbex_tbody.appendChild(trex);  // true =3D recursive cloning
		=09
		=09
/*			var tds =3D trs[i].childNodes;
			var trex =3D document.createElement('tr');
			for (var j =3D 0; j &lt; tds.length; j++) {
				if (!ElementHasClass(tds[j], 'icons')) {
					var thex =3D document.createElement('th');
					thex.innerText =3D tds[j].innerText;
					if (ElementHasClass(tds[j], 'th_rotated')) {
						thex.setAttribute("style", "transform: rotate(-90deg);");
					}
					trex.appendChild(thex);
				}
			}
			tbex_tbody.appendChild(trex);
*/		=09
		}
	}
=09
	var b =3D document.getElementById('body');
	if (!b) {
		return;
	}
	tbex.appendChild(tbex_tbody);
	b.appendChild(tbex);

	var range =3D document.createRange();
	range.selectNode(tbex);
	window.getSelection().addRange(range);

	var result =3D true;
	try {
		result =3D document.execCommand('copy');
	} catch(err) {
		result =3D false;
	}
=09
	window.getSelection().removeAllRanges();

	b.removeChild(tbex);

	if (!result) {
		alert('Chyba: V=C3=A1=C5=A1 prohl=C3=AD=C5=BEe=C4=8D z=C5=99ejm=C4=9B nep=
odporuje funkci kop=C3=ADrov=C3=A1n=C3=AD HTML do schr=C3=A1nky.');
	}
	else {
		var e_sbox =3D document.getElementById(e_name + '_status_box');
		if (e_sbox) {
			e_sbox.style.display =3D 'block';
		}
	}

}

function SetSelectByValue(aform, aselect, anid) {
	document.forms[aform][aselect].value =3D anid;
}



///////////////// KA CALENDAR
function KA_Load() {
	AjaxLoad(['ka_load=3D1']);
}

function KA_CalendarGoToPg(pg) {
	if (ka_calendar_act_pg) {
		ElementRemoveClass(document.getElementById('ka_calendar_box_pg_' + ka_cal=
endar_act_pg), 'calendar_box_pg_active');
	}
	ka_calendar_act_pg =3D pg;
	if (ka_calendar_act_pg) {
		ElementAddClass(document.getElementById('ka_calendar_box_pg_' + ka_calend=
ar_act_pg), 'calendar_box_pg_active');
		KA_RedrawCalendar();
	}
}

function KA_InitCalendar() {
	var o_datum =3D null;
=09
	if (111 || !ka_calendar_act_year || !ka_calendar_act_month) {
		o_datum =3D new Date();
		ka_calendar_act_year =3D o_datum.getFullYear();
		ka_calendar_act_month =3D o_datum.getMonth() + 1;

		ka_calendar_chosen_year =3D ka_calendar_act_year;
		ka_calendar_chosen_month =3D ka_calendar_act_month;
		ka_calendar_chosen_day =3D o_datum.getDate();
	}
=09
	ShowElement('ka_calendar_box', false, true, false, true);
	KA_CalendarGoToPg(1);
	KA_RedrawCalendar();
}

function KA_RedrawCalendar() {
	var e =3D null;
	var i =3D 0;

	if (ka_calendar_act_year) {
		e =3D document.getElementById('ka_calendar_year');
		if (e) {
			e.innerText =3D ka_calendar_act_year;
		}
	}
=09
	if (ka_calendar_act_pg =3D=3D 3) {
		var temp_roky =3D document.getElementById('ka_calendar_years_list').value=
.split(',');
		for (i =3D 0; i &lt; temp_roky.length; i++) {
			e =3D document.getElementById('ka_calendar_3_td_' + temp_roky[i]);
			if (temp_roky[i] =3D=3D ka_calendar_chosen_year) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
		}
	}
	else if (ka_calendar_act_pg =3D=3D 2) {
		for (i =3D 1; i &lt;=3D 12; i++) {
			e =3D document.getElementById('ka_calendar_2_td_' + i);
			if (i =3D=3D ka_calendar_chosen_month &amp;&amp; ka_calendar_act_year =
=3D=3D ka_calendar_chosen_year) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
		}
	}
	else if (ka_calendar_act_year &amp;&amp; ka_calendar_act_month) {
		var o_datum =3D new Date(ka_calendar_act_year, ka_calendar_act_month - 1,=
 1, 0, 0, 0, 0);
		var offset =3D o_datum.getDay();
		offset =3D (offset &lt; 1 ? 6 : offset - 1);
	=09
		for (; i &lt; offset; i++) {
			e =3D document.getElementById('ka_calendar_td_' + i);
			e.innerHTML =3D '';
			ElementRemoveClass(e, 'calendar_td_selected');
			ElementRemoveClass(e, 'calendar_td_active');
			ElementAddClass(e, 'calendar_td_empty');
		}
		var d =3D 1;
		var o_dnes =3D new Date();
		o_dnes.setHours(0);
		o_dnes.setMinutes(0);
		o_dnes.setSeconds(0);
		o_dnes.setMilliseconds(0);
		while (o_datum.getMonth() + 1 =3D=3D ka_calendar_act_month) {
			e =3D document.getElementById('ka_calendar_td_' + i);
			ElementRemoveClass(e, 'calendar_td_empty');
			e.innerHTML =3D d + '&lt;div id=3D"ka_calendar_akce_' + ka_calendar_act_=
year + '_' + ka_calendar_act_month + '_' + d + '" class=3D"ka_calendar_akce=
" onmouseover=3D"ShowElement(\'ka_calendar_akce_'+ka_calendar_act_year+'_'+=
ka_calendar_act_month+'_'+d+'_details\', false, true);" onmouseout=3D"HideE=
lement(\'ka_calendar_akce_'+ka_calendar_act_year+'_'+ka_calendar_act_month+=
'_'+d+'_details\', false, true);"&gt;&lt;/div&gt;';
			if (111 || o_datum.getTime() &gt;=3D o_dnes.getTime()) {
				ElementAddClass(e, 'calendar_td_active');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_active');
			}
			if (d =3D=3D ka_calendar_chosen_day &amp;&amp; ka_calendar_act_month =3D=
=3D ka_calendar_chosen_month &amp;&amp; ka_calendar_act_year =3D=3D ka_cale=
ndar_chosen_year) {
				ElementAddClass(e, 'calendar_td_selected');
			}
			else {
				ElementRemoveClass(e, 'calendar_td_selected');
			}
			i++;
			d++;
			o_datum.setDate(d);
		}
		for (; i &lt; ka_calendar_rows * ka_calendar_cols; i++) {
			e =3D document.getElementById('ka_calendar_td_' + i);
			e.innerHTML =3D '';
			ElementRemoveClass(e, 'calendar_td_selected');
			ElementRemoveClass(e, 'calendar_td_active');
			ElementAddClass(e, 'calendar_td_empty');
		}
	=09
		// PushOrChangeScrollFader('ka_calendar_months', 'ka_calendar_month_' + k=
a_calendar_act_month);
		var e_months =3D document.getElementById('ka_calendar_months_inner');
		e_months.style.top =3D (-2 * (ka_calendar_act_month - 1)) + 'em';  // 2em=
 is calendar TD height
	=09
		AjaxLoad(['ka_load=3D1', 'ka_year=3D' + ka_calendar_act_year, 'ka_month=
=3D' + ka_calendar_act_month]);
	}
}

function KA_CalendarClick(e) {
	// show actions of the day
}

function KA_CalendarSetMonth(amonth) {
	ka_calendar_act_month =3D amonth;
	KA_RedrawCalendar();
}

function KA_CalendarSetYear(ayear) {
	ka_calendar_act_year =3D ayear;
	KA_RedrawCalendar();
}

function KA_CalendarIncrementMonth() {
	ka_calendar_act_month++;
	if (ka_calendar_act_month &gt; 12) {
		ka_calendar_act_month =3D 1;
		ka_calendar_act_year++;
	}
	KA_RedrawCalendar();
}

function KA_CalendarDecrementMonth() {
	ka_calendar_act_month--;
	if (ka_calendar_act_month &lt; 1) {
		ka_calendar_act_month =3D 12;
		ka_calendar_act_year--;
	}
	KA_RedrawCalendar();
}


function ShowHpMenu() {
	var i =3D 1;
	while (document.getElementById('hp_menu_itembox_' + i)) {
		setTimeout("ElementAddClass(document.getElementById('hp_menu_itembox_" + =
i + "'), 'hp_menu_itembox_visible');", i * 300);
		i++;
	}
}

function NabidkaSendData() {
	var e_nt =3D document.getElementById('nabidka_typ');
	var e_nl =3D document.getElementById('nabidka_lokalita');
	if (e_nt &amp;&amp; e_nl) {
		location.href =3D '?s=3Dnabidka&amp;nabidka_typ=3D' + e_nt.value + '&amp;=
nabidka_lokalita=3D' + e_nl.value;
	}
}


}
/*
     FILE ARCHIVED ON 12:49:29 Jan 28, 2025 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:05:55 Sep 04, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.575
  exclusion.robots: 0.02
  exclusion.robots.policy: 0.01
  esindex: 0.013
  cdx.remote: 121.96
  LoadShardBlock: 456.992 (3)
  PetaboxLoader3.datanode: 146.795 (4)
  PetaboxLoader3.resolve: 382.269 (3)
  load_resource: 186.66
*/</pre></body></html>
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb----
Content-Type: text/html
Content-ID: <frame-E9E41B86CE45013204F674D861A1D3D6@mhtml.blink>
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8"></head><body></body></html>
------MultipartBoundary--jO7XTy2HsAXHbddcYXBO6WiAKo51lnrNxDkC4r8bPb------
